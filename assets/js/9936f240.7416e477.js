"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[180],{3905:function(t,e,r){r.d(e,{Zo:function(){return p},kt:function(){return k}});var n=r(7294);function o(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function a(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function l(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?a(Object(r),!0).forEach((function(e){o(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function s(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},a=Object.keys(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}var i=n.createContext({}),m=function(t){var e=n.useContext(i),r=e;return t&&(r="function"==typeof t?t(e):l(l({},e),t)),r},p=function(t){var e=m(t.components);return n.createElement(i.Provider,{value:e},t.children)},u={inlineCode:"code",wrapper:function(t){var e=t.children;return n.createElement(n.Fragment,{},e)}},c=n.forwardRef((function(t,e){var r=t.components,o=t.mdxType,a=t.originalType,i=t.parentName,p=s(t,["components","mdxType","originalType","parentName"]),c=m(r),k=o,f=c["".concat(i,".").concat(k)]||c[k]||u[k]||a;return r?n.createElement(f,l(l({ref:e},p),{},{components:r})):n.createElement(f,l({ref:e},p))}));function k(t,e){var r=arguments,o=e&&e.mdxType;if("string"==typeof t||o){var a=r.length,l=new Array(a);l[0]=c;var s={};for(var i in e)hasOwnProperty.call(e,i)&&(s[i]=e[i]);s.originalType=t,s.mdxType="string"==typeof t?t:o,l[1]=s;for(var m=2;m<a;m++)l[m]=r[m];return n.createElement.apply(null,l)}return n.createElement.apply(null,r)}c.displayName="MDXCreateElement"},4210:function(t,e,r){r.r(e),r.d(e,{frontMatter:function(){return s},contentTitle:function(){return i},metadata:function(){return m},assets:function(){return p},toc:function(){return u},default:function(){return k}});var n=r(7462),o=r(3366),a=(r(7294),r(3905)),l=["components"],s={slug:"install-cluster-apache-storm",title:"Storm-\u96c6\u7fa4\u642d\u5efa\u5165\u95e8",authors:["jeesk"],tags:["storm"]},i=void 0,m={permalink:"/devops/install-cluster-apache-storm",source:"@site/devops/2019-07-08-install-cluster-apache-storm.md",title:"Storm-\u96c6\u7fa4\u642d\u5efa\u5165\u95e8",description:"\u524d\u7f6e\u5de5\u4f5c",date:"2019-07-08T00:00:00.000Z",formattedDate:"July 8, 2019",tags:[{label:"storm",permalink:"/devops/tags/storm"}],readingTime:2.315,truncated:!1,authors:[{name:"jeesk",title:"java engineer",url:"https://shanjiancaofu.com",imageURL:"https://shanjiancaofu.com/img/avtor.png",key:"jeesk"}],frontMatter:{slug:"install-cluster-apache-storm",title:"Storm-\u96c6\u7fa4\u642d\u5efa\u5165\u95e8",authors:["jeesk"],tags:["storm"]},prevItem:{title:"linux\u538b\u6d4b\u914d\u7f6e\u4f18\u5316",permalink:"/devops/linux-opt"},nextItem:{title:"NFS\u5728linux\u4e0b\u9762\u7684\u7b80\u5355\u4f7f\u7528",permalink:"/devops/nfs-use"}},p={authorsImageUrls:[void 0]},u=[{value:"\u524d\u7f6e\u5de5\u4f5c",id:"\u524d\u7f6e\u5de5\u4f5c",children:[],level:4}],c={toc:u};function k(t){var e=t.components,r=(0,o.Z)(t,l);return(0,a.kt)("wrapper",(0,n.Z)({},c,r,{components:e,mdxType:"MDXLayout"}),(0,a.kt)("h4",{id:"\u524d\u7f6e\u5de5\u4f5c"},"\u524d\u7f6e\u5de5\u4f5c"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"3\u53f0 \u5b89\u88c5JDK 8\u7684\u865a\u62df\u673a"),(0,a.kt)("li",{parentName:"ol"},"3\u53f0\u673a\u5668\u5b89\u88c5 zookeeper \u96c6\u7fa4\u7684\u673a\u5668"),(0,a.kt)("li",{parentName:"ol"},"\u4fee\u6539hosts \u5982\u4e0b,\u5047\u8bbe\u6211\u4eec\u67093 \u53f0\u673a\u5668,ip 192.168.17.81,192.168.17.82,192.168.17.83, \u4fee\u6539hosts\u6587\u4ef6")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"\n192.168.17.81 zk01 kafka01 storm01\n192.168.17.82 zk02 kafka02 storm02\n192.168.17.83 zk03 kafka03 storm03\n")),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"\u4e0b\u8f7dstorm \u5b89\u88c5\u5305\n\u6253\u5f00storm \u53d1\u884c\u7248\u9875\u9762 ",(0,a.kt)("inlineCode",{parentName:"li"},"http://storm.apache.org/downloads.html"),", \u9009\u53d6\u4e00\u4e2astorm \u7684\u4e8c\u8fdb\u5236\u4e0b\u8f7d ```")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"wget  https://www.apache.org/dyn/closer.lua/storm/apache-storm-2.2.0/apache-storm-2.2.0.tar.gz\n")),(0,a.kt)("ol",{start:2},(0,a.kt)("li",{parentName:"ol"},"\u5206\u53d1\u89e3\u538b")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"# \u5728storm01 \u7684\u673a\u5668\u4e0a\u9762\u6267\u884c, 3 \u53f0\u673a\u5668\u8bb0\u5f97\u914d\u7f6e\u4e92\u76f8\u514d\u5bc6\u767b\u5f55\n scp apache-storm-2.2.0.tar.gz root@storm02:/opt/soft/\n scp apache-storm-2.2.0.tar.gz root@storm03:/opt/soft/\n#  \u57283 \u53f0\u673a\u5668\u5bf9\u5e94\u7684\u76ee\u5f55\u6267\u884c\u89e3\u538b, \u8f6f\u8fde\u63a5\ntar -zxvf apache-storm-2.2.0.tar.gz  && ln -s  /opt/soft/apache-storm-2.2.0 storm\n")),(0,a.kt)("ol",{start:3},(0,a.kt)("li",{parentName:"ol"},"\u4fee\u6539\u914d\u7f6e\n\u5728storm01 \u7684 /opt/soft/storm/conf \u76ee\u5f55\u4e0b\u6267\u884c\u4e00\u9762\u7684\u64cd\u4f5c")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"cp storm.yaml storm.yaml.bak\nvim storm.yaml\n")),(0,a.kt)("p",null,"\u6587\u4ef6\u91cc\u9762\u7c98\u8d34\u5982\u4e0b\u5185\u5bb9"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'#  storm \u76843\u53f0\u673a\u5668\nstorm.zookeeper.servers:\n        - "storm01"\n        - "storm02"\n        - "storm03"\n# \u914d\u7f6enimbus \u673a\u5668\u7684IP\nnimbus.host:    "storm01"\n# \u914d\u7f6e\u5bf9\u5e94\u7ec4\u4ef6\u7684jvm \u5185\u5b58\nnimbus.childopts:       "-Xmx1024m"\nsupervisor.childopts:   "-Xmx1024m"\nworker.childopts:       "-Xmx1024m"\nui.childopts:   "-Xmx768m"\n# \u914d\u7f6esupervisor \u7684\u7aef\u53e3\nsupervisor.slots.ports:\n        -       6700\n        -       6701\n        -       6702\n        -       6703\n# \u914d\u7f6estorm ui\u7684\u7aef\u53e3, \u8fd9\u4e2a\u7aef\u53e3\u662fnimbus \u673a\u5668\u4e0a\u542f\u52a8\u7684ui. \nui.port: 9999\n')),(0,a.kt)("p",null,"\u5c06storm.yaml, \u5206\u53d1\u5230\u53e6\u59162\u53f0\u673a\u5668\u4e0a\u9762"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"scp storm.yaml root@storm02:/opt/soft/storm/conf\nscp storm.yaml root@storm03:/opt/soft/storm/conf\n")),(0,a.kt)("ol",{start:4},(0,a.kt)("li",{parentName:"ol"},"\u76f8\u5173\u547d\u4ee4\u5728storm \u7684bin\u76ee\u5f55\u6267\u884c")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u542f\u52a8nimbus:  ",(0,a.kt)("inlineCode",{parentName:"li"},"./storm nimbus ")),(0,a.kt)("li",{parentName:"ul"},"\u542f\u52a8storm ui:  ",(0,a.kt)("inlineCode",{parentName:"li"},"./storm ui")),(0,a.kt)("li",{parentName:"ul"},"\u542f\u52a8supervisor:  ",(0,a.kt)("inlineCode",{parentName:"li"},"./storm supervisor")),(0,a.kt)("li",{parentName:"ul"},"\u542f\u52a8\u62d3\u6251: ",(0,a.kt)("inlineCode",{parentName:"li"},"./storm jar xxxxx.jar  \u62d3\u6251\u540d\u79f0")),(0,a.kt)("li",{parentName:"ul"},"\u6740\u6b7b\u62d3\u6251: ",(0,a.kt)("inlineCode",{parentName:"li"},"./storm kill \u62d3\u6251\u540d\u79f0 -w 10")," , \u6267\u884ckill \u547d\u4ee4\u53ef\u4ee5\u901a\u8fc7-2\n\u7b49\u5f85\u79d2\u6570,\u6267\u884c\u505c\u7528\u4ee5\u540e\u7684\u7b49\u5f85\u65f6\u95f4")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u505c\u7528\u4efb\u52a1:  ",(0,a.kt)("inlineCode",{parentName:"li"},"./storm deactivte \u62d3\u6251\u540d\u79f0"))),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u542f\u7528\u4efb\u52a1: ",(0,a.kt)("inlineCode",{parentName:"li"},"./storm activate \u62d3\u6251\u540d")),(0,a.kt)("li",{parentName:"ul"},"\u91cd\u65b0\u90e8\u7f72\u4efb\u52a1: ",(0,a.kt)("inlineCode",{parentName:"li"},"./storm rebalance \u62d3\u6251\u540d"),"\n\u6ce8\u610f, \u542f\u52a8nimbus, ui \u7684\u547d\u4ee4\u53ea\u80fd\u5728nimbus \u7684\u673a\u5668\u4e0a\u9762\u6267\u884c, \u542f\u52a8supervisor \u53ea\u80fd\u5728\u53e6\u59162\u53f0\u673a\u5668\u4e0a\u9762\u6267\u884c.",(0,a.kt)("br",{parentName:"li"}),"\u4e0a\u9762storm ui\u7684\u8bbf\u95ee\u5730\u5740 http://storm01:9999/index.html")),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"}," \u5b8c\u7ed3\u6492\u82b1,\u8def\u8fc7\u70b9\u8d5e, \u6708\u516510W .")))}k.isMDXComponent=!0}}]);