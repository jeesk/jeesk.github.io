"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[5773],{9894:function(e){e.exports=JSON.parse('{"blogPosts":[{"id":"push-cmd","metadata":{"permalink":"/devops/push-cmd","source":"@site/devops/2022-01-22-push-cmd.md","title":"docusaurus\u90e8\u7f72\u547d\u4ee4","description":"git_pass \u8bf7\u914d\u7f6egithub\u7684token","date":"2022-01-22T00:00:00.000Z","formattedDate":"January 22, 2022","tags":[{"label":"blog","permalink":"/devops/tags/blog"}],"readingTime":0.11,"truncated":false,"authors":[{"name":"jeesk","title":"java engineer","url":"https://shanjiancaofu.com","imageURL":"https://shanjiancaofu.com/img/avtor.png","key":"jeesk"}],"frontMatter":{"slug":"push-cmd","title":"docusaurus\u90e8\u7f72\u547d\u4ee4","authors":["jeesk"],"tags":["blog"]},"nextItem":{"title":"linux\u670d\u52a1\u5668\u65f6\u95f4\u540c\u6b65","permalink":"/devops/sync-system-time"}},"content":"git_pass \u8bf7\u914d\u7f6egithub\u7684token\\n```shell\\nUSE_SSH=git@github.com:jeesk/jeesk.github.io.git GIT_USER=jeesk GIT_PASS=  yarn deploy\\n```\\n>  \u8def\u8fc7\u70b9\u8d5e, \u6708\u85aa10W"},{"id":"sync-system-time","metadata":{"permalink":"/devops/sync-system-time","source":"@site/devops/2022-01-01-sync-system-time.md","title":"linux\u670d\u52a1\u5668\u65f6\u95f4\u540c\u6b65","description":">  \u6700\u8fd1\u53d1\u73b0\u81ea\u5df1\u7684\u670d\u52a1\u5668\u65f6\u95f4\u53d8\u6210\u4e86 EDT , \u8fd9\u4e2a\u662f\u7f8e\u56fd\u4e1c\u90e8\u590f\u4ee4\u65f6\u95f4. \u90a3\u4e48\u5982\u4f55\u5c06\u670d\u52a1\u5668\u7684\u65f6\u95f4\u53d8\u6210\u4e2d\u56fd\u7684\u65f6\u95f4,\u5e76\u4e14\u540c\u6b65\u5462.","date":"2022-01-01T00:00:00.000Z","formattedDate":"January 1, 2022","tags":[{"label":"linux","permalink":"/devops/tags/linux"}],"readingTime":0.935,"truncated":false,"authors":[{"name":"jeesk","title":"java engineer","url":"https://shanjiancaofu.com","imageURL":"https://shanjiancaofu.com/img/avtor.png","key":"jeesk"}],"frontMatter":{"slug":"sync-system-time","title":"linux\u670d\u52a1\u5668\u65f6\u95f4\u540c\u6b65","authors":["jeesk"],"tags":["linux"]},"prevItem":{"title":"docusaurus\u90e8\u7f72\u547d\u4ee4","permalink":"/devops/push-cmd"},"nextItem":{"title":"Welcome","permalink":"/devops/welcome"}},"content":"> >  \u6700\u8fd1\u53d1\u73b0\u81ea\u5df1\u7684\u670d\u52a1\u5668\u65f6\u95f4\u53d8\u6210\u4e86 EDT , \u8fd9\u4e2a\u662f\u7f8e\u56fd\u4e1c\u90e8\u590f\u4ee4\u65f6\u95f4. \u90a3\u4e48\u5982\u4f55\u5c06\u670d\u52a1\u5668\u7684\u65f6\u95f4\u53d8\u6210\u4e2d\u56fd\u7684\u65f6\u95f4,\u5e76\u4e14\u540c\u6b65\u5462.\\n\\n1.  \u5b89\u88c5 centos \u7684\u65f6\u95f4\u540c\u6b65\u5de5\u5177\\n``` \\nyum -y install ntp\\n```\\n2.  \u5982\u679c\u673a\u5668\u7684\u65f6\u533a\u4e0d\u662f\u4e2d\u56fd\u65f6\u533a\u9700\u8981\u91cd\u65b0\u8bbe\u7f6e\u65f6\u533a\\n```\\nmv /etc/localtime /etc/localtime.bak\\nln -s /usr/share/zoneinfo/Asia/Shanghai /etc/localtime\\n```\\n3.  \u6267\u884c\u540c\u6b65\u547d\u4ee4\\n```\\n\u540c\u6b65\u6dd8\u5b9d\u7684\u65f6\u95f4\u670d\u52a1\\nntpdate ntp1.aliyun.com \\n```\\n4.  \u4fee\u6539\u670d\u52a1\u5668\u6620\u5c04\u5230\u6211\u4eec\u7cfb\u7edf\u7684\u65f6\u95f4\uff0cok\uff1b\\n```\\nhwclock --systohc\\n```\\n5. \u589e\u52a0\u5b9a\u65f6\u4efb\u52a1\u540c\u6b65\u65f6\u95f4\\n```\\ncrontab -e  \u8fdb\u5165\u5b9a\u65f6\u4efb\u52a1 ,  \u6bcf\u969410\u5206\u949f\u540c\u6b65\u4e00\u6b21\u7cfb\u7edf\u65f6\u95f4\\n*/10 * * * *  /usr/sbin/ntpdate  ntp1.aliyun.com  \\n```\\n>  \u8def\u8fc7\u70b9\u8d5e, \u6708\u85aa10W"},{"id":"welcome","metadata":{"permalink":"/devops/welcome","source":"@site/devops/2021-08-26-welcome/index.md","title":"Welcome","description":"Docusaurus blogging features are powered by the blog plugin.","date":"2021-08-26T00:00:00.000Z","formattedDate":"August 26, 2021","tags":[{"label":"facebook","permalink":"/devops/tags/facebook"},{"label":"hello","permalink":"/devops/tags/hello"},{"label":"docusaurus","permalink":"/devops/tags/docusaurus"}],"readingTime":0.405,"truncated":false,"authors":[{"name":"S\xe9bastien Lorber","title":"Docusaurus maintainer","url":"https://sebastienlorber.com","imageURL":"https://github.com/slorber.png","key":"slorber"},{"name":"Yangshun Tay","title":"Front End Engineer @ Facebook","url":"https://github.com/yangshun","imageURL":"https://github.com/yangshun.png","key":"yangshun"}],"frontMatter":{"slug":"welcome","title":"Welcome","authors":["slorber","yangshun"],"tags":["facebook","hello","docusaurus"]},"prevItem":{"title":"linux\u670d\u52a1\u5668\u65f6\u95f4\u540c\u6b65","permalink":"/devops/sync-system-time"},"nextItem":{"title":"Zookeeper\u96c6\u7fa4\u5b89\u88c5\u6559\u7a0b","permalink":"/devops/install-zookeeper-cluster-lesson"}},"content":"[Docusaurus blogging features](https://docusaurus.io/docs/blog) are powered by the [blog plugin](https://docusaurus.io/docs/api/plugins/@docusaurus/plugin-content-blog).\\n\\nSimply add Markdown files (or folders) to the `blog` directory.\\n\\nRegular blog authors can be added to `authors.yml`.\\n\\nThe blog post date can be extracted from filenames, such as:\\n\\n- `2019-05-30-welcome.md`\\n- `2019-05-30-welcome/index.md`\\n\\nA blog post folder can be convenient to co-locate blog post images:\\n\\n![Docusaurus Plushie](./docusaurus-plushie-banner.jpeg)\\n\\nThe blog supports tags as well!\\n\\n**And if you don\'t want a blog**: just delete this directory, and use `blog: false` in your Docusaurus config."},{"id":"install-zookeeper-cluster-lesson","metadata":{"permalink":"/devops/install-zookeeper-cluster-lesson","source":"@site/devops/2021-08-01-install-zookeeper-cluster-lesson.md","title":"Zookeeper\u96c6\u7fa4\u5b89\u88c5\u6559\u7a0b","description":"\u5b89\u88c5\u524d\u7f6e\u6761\u4ef6","date":"2021-08-01T00:00:00.000Z","formattedDate":"August 1, 2021","tags":[{"label":"zookeeper","permalink":"/devops/tags/zookeeper"}],"readingTime":2.97,"truncated":false,"authors":[{"name":"jeesk","title":"java engineer","url":"https://shanjiancaofu.com","imageURL":"https://shanjiancaofu.com/img/avtor.png","key":"jeesk"}],"frontMatter":{"slug":"install-zookeeper-cluster-lesson","title":"Zookeeper\u96c6\u7fa4\u5b89\u88c5\u6559\u7a0b","authors":["jeesk"],"tags":["zookeeper"]},"prevItem":{"title":"Welcome","permalink":"/devops/welcome"},"nextItem":{"title":"MDX Blog Post","permalink":"/devops/mdx-blog-post"}},"content":">  \u5b89\u88c5\u524d\u7f6e\u6761\u4ef6\\n -  3\u53f0\u5b89\u88c5JDK 8 \u7684\u865a\u62df\u673a,\u5047\u8bbe\u5730\u5740\u5206\u522b\u662f192.168.17.81,192.168.17.82,192.168.17.83\\n\\nzookeeper \u53d1\u884c\u7248\u9875\u9762, \u6709\u8bb8\u591a\u7248\u672c\u7684\u53d1\u884c\u7248\u7684\u4e0b\u8f7d\u94fe\u63a5,\u53ef\u4ee5\u6839\u636e\u4e0d\u540c\u7684\u7248\u672c,\u4e0b\u8f7d\u4e0d\u540c\u7684\u94fe\u63a5\\n`https://zookeeper.apache.org/releases.html`\\n1.   $\\\\color{#FF0000}{\u4fee\u6539 hosts }$\\n```\\nvim /etc/hosts\\n\u52a0\u5165\u4e00\u4e0b\u5185\u5bb9\\n192.168.17.81 zk01\\n192.168.17.82 zk02\\n192.168.17.83 zk03\\n```\\n\u540e\u9762\u6211\u5c06\u4f7f\u7528zk01 \u4ee3\u66ff192.168.17.81 \\n2.   $\\\\color{#FF0000}{\u5728zk01\u673a\u5668\u4e0a\u9762\u4e0b\u8f7dzookeeper}$\\n```\\nmkdir -p /opt/soft/ && cd  /opt/soft\\nwget  https://www.apache.org/dyn/closer.lua/zookeeper/zookeeper-3.6.2/apache-zookeeper-3.6.2-bin.tar.gz\\n\u5982\u679c\u673a\u5668\u6ca1\u6709\u5b89\u88c5wget, \u90a3\u4e48\u6267\u884c\u4e0b\u9762\u547d\u4ee4\u5b89\u88c5\\nyum -y install wget\\n```\\n3.   $\\\\color{#FF0000}{\u5206\u53d1zoookeeper\u8f6f\u4ef6 \u5230\u53e6\u5916\u4e24\u53f0\u673a\u5668}$\\n```\\n1. \u9996\u5148\u5728\u53e6\u5916\u4e24\u53f0\u673a\u5668\u521b\u5efa\u76ee\u5f55\\nmkdir -p /opt/soft/ && cd  /opt/soft\\n2. \u5728zk01 \u7684/opt/soft \u7684\u76ee\u5f55\u4e0b\u6267\u884c\\nscp apache-zookeeper-3.6.2-bin.tar.gz root@zk02:/opt/soft/\\nscp apache-zookeeper-3.6.2-bin.tar.gz root@zk03:/opt/soft/\\n```\\n4.    $\\\\color{#FF0000}{\u89e3\u538b\u6587\u4ef6}$\\n       1.  \u57283\u53f0\u7684\u673a\u5668\u7684/opt/soft/ \u6587\u4ef6\u5939\u6267\u884c\u89e3\u538b\u547d\u4ee4\\n        `   tar -zxvf  apache-zookeeper-3.6.2-bin.tar.gz  `\\n        2. \u57283\u53f0\u7684\u673a\u5668\u7684/opt/soft/ \u7ee7\u7eed\u6267\u884c\u8f6f\u8fde\u63a5\\n        `ln -s /opt/soft/apache-zookeeper-3.6.2-bin  zookeeper`\\n        3.  \u521b\u5efa\u9700\u8981\u7684\u6570\u636e\u6587\u4ef6\u5939,\u548c\u65e5\u5fd7\u6587\u4ef6\u5939, \u5728\u540e\u9762\u7684\u914d\u7f6e\u6587\u4ef6\u4f7f\u7528\u9700\u8981\\n          `cd zookeeper && mkdir {data,log}`\\n5.    $\\\\color{#FF0000}{\u589e\u52a0\u914d\u7f6e\u6587\u4ef6}$\\n\u5728zk01\u4e0a \u7684`/opt/soft/zookeeper-3.5.2-alpha/conf`\u589e\u52a0 zoo.cfg\u6587\u4ef6,\u6587\u4ef6\u5185\u5bb9\u5982\u4e0b\\n     \\n  ```\\n    initLimit=10\\n    syncLimit=5\\n    clientPort=2181\\n    tickTime=2000\\n    dataDir=/opt/soft/apache-zookeeper-3.6.2-bin/data/\\n    dataLogDir=/opt/apache-zookeeper-3.6.2-bin/logs/\\n    dynamicConfigFile=/opt/soft/apache-zookeeper-3.6.2-bin/conf/zoo.cfg.dynamic.100000000\\n  ```\\n-  \u5728/opt/soft/zookeeper-3.5.2-alpha/conf \u589e\u52a0\u914d\u7f6ezoo.cfg.dynamic.100000000 \u6587\u4ef6, \u8fd9\u4e2a\u6587\u4ef6\u662f\u8bf4\u660ezk \u7684\u96c6\u7fa4\u673a\u5668\u7684ip\u5730\u5740,\u6587\u4ef6\u5185\u5bb9\u5982\u4e0b\\n```\\nserver.1=zk01:2888:3888:participant\\nserver.2=zk02:2888:3888:participant\\nserver.3=zk03:2888:3888:participant\\n```\\n-  \u5c06\u8fd9\u4e2a\u4e24\u4e2a\u6587\u4ef6\u5206\u53d1\u5230zk02,zk03,\u5728zk01 \u7684/opt/soft/zookeeper-3.5.2-alpha/conf/ \u6267\u884c\u547d\u4ee4\\n```\\nscp zoo.cfg root@zk02:/opt/soft/zookeeper-3.5.2-alpha/conf/\\nscp zoo.cfg root@zk02:/opt/soft/zookeeper-3.5.2-alpha/conf/\\nscp zoo.cfg.dynamic.100000000 root@zk03:/opt/soft/zookeeper-3.5.2-alpha/conf/\\nscp zoo.cfg.dynamic.100000000 root@zk03:/opt/soft/zookeeper-3.5.2-alpha/conf/\\n```\\n\\n6.    $\\\\color{#FF0000}{\u589e\u52a0\u6bcf\u4e00\u53f0\u673a\u5668\u7684\u6807\u8bc6 }$\\n\u57283\u53f0\u673a\u5668\u4e0a\u9762\u7684 `/opt/soft/zookeeper-3.5.2-alpha/conf/data` \u6267\u884c\u547d\u4ee4\\nzk01 \u6267\u884c  `echo 1 > myid`\\nzk02 \u6267\u884c  `echo 2 > myid`\\nzk03 \u6267\u884c  `echo 3 > myid`\\n\\n7.   $\\\\color{#FF0000}{\u5e38\u7528\u547d\u4ee4 }$\\n\\n\u57283 \u53f0\u673a\u5668\u7684 `/opt/soft/zookeeper-3.5.2-alpha/bin/ ` \u6267\u884c\\n-  \u542f\u52a8\u547d\u4ee4  ` ./zkServer.sh start  `\\n-  \u67e5\u770b\u542f\u52a8\u72b6\u6001 ` ./zkServer.sh status  `  \\n```\\nZooKeeper JMX enabled by default\\nUsing config: /opt/soft/zookeeper-3.5.2-alpha/bin/../conf/zoo.cfg\\nClient port found: 2181. Client address: localhost.\\nMode: follower\\n------------------- 192.168.17.82 -------------------\\nZooKeeper JMX enabled by default\\nUsing config: /opt/soft/zookeeper-3.5.2-alpha/bin/../conf/zoo.cfg\\nClient port found: 2181. Client address: localhost.\\nMode: leader\\n------------------- 192.168.17.83 -------------------\\nZooKeeper JMX enabled by default\\nUsing config: /opt/soft/zookeeper-3.5.2-alpha/bin/../conf/zoo.cfg\\nClient port found: 2181. Client address: localhost.\\nMode: followe\\n```\\n-  \u5173\u95ed\u547d\u4ee4: `./zkServer.sh status`\\n8.   $\\\\color{#FF0000}{\u5e38\u89c1\u95ee\u9898:}$\\n-  \u786e\u4fdd3\u53f0\u673a\u5668\u7684\u9632\u706b\u5899\u7aef\u53e32181 \u5df2\u7ecf\u653e\u5f00, \u5982\u679c\u662f\u672c\u5730\u73af\u5883\u5efa\u8bae\u76f4\u63a5`service fillwalld stop` \u5173\u95ed\u9632\u706b\u5899\\n-  3\u53f0\u673a\u5668\u5206\u522b\u6267\u884c\u592a\u9ebb\u70e6, \u53c2\u8003 zookeeper  [\u96c6\u7fa4\u811a\u672c](https://www.jianshu.com/p/f2d1e2cba91d) \\n> \u5b8c\u7ed3\u6492\u82b1, \u8def\u8fc7\u70b9\u8d5e, \u6708\u516510 W!"},{"id":"mdx-blog-post","metadata":{"permalink":"/devops/mdx-blog-post","source":"@site/devops/2021-08-01-mdx-blog-post.mdx","title":"MDX Blog Post","description":"Blog posts support Docusaurus Markdown features, such as MDX.","date":"2021-08-01T00:00:00.000Z","formattedDate":"August 1, 2021","tags":[{"label":"docusaurus","permalink":"/devops/tags/docusaurus"}],"readingTime":0.175,"truncated":false,"authors":[{"name":"S\xe9bastien Lorber","title":"Docusaurus maintainer","url":"https://sebastienlorber.com","imageURL":"https://github.com/slorber.png","key":"slorber"}],"frontMatter":{"slug":"mdx-blog-post","title":"MDX Blog Post","authors":["slorber"],"tags":["docusaurus"]},"prevItem":{"title":"Zookeeper\u96c6\u7fa4\u5b89\u88c5\u6559\u7a0b","permalink":"/devops/install-zookeeper-cluster-lesson"},"nextItem":{"title":"Zookeeper\u4e00\u952e\u7fa4\u542f\u811a\u672c","permalink":"/devops/zookeeper-cluster-start-script"}},"content":"Blog posts support [Docusaurus Markdown features](https://docusaurus.io/docs/markdown-features), such as [MDX](https://mdxjs.com/).\\n\\n:::tip\\n\\nUse the power of React to create interactive blog posts.\\n\\n```js\\n<button onClick={() => alert(\'button clicked!\')}>Click me!</button>\\n```\\n\\n<button onClick={() => alert(\'button clicked!\')}>Click me!</button>\\n\\n:::"},{"id":"zookeeper-cluster-start-script","metadata":{"permalink":"/devops/zookeeper-cluster-start-script","source":"@site/devops/2021-05-09-zookeeper-cluster-start-script.md","title":"Zookeeper\u4e00\u952e\u7fa4\u542f\u811a\u672c","description":"\u4e3a\u4e86\u65b9\u4fbf\u7ba1\u7406zookeeper \u96c6\u7fa4, \u6211\u4eec\u5199\u4e86\u4e00\u4e2azookeeper \u811a\u672c","date":"2021-05-09T00:00:00.000Z","formattedDate":"May 9, 2021","tags":[{"label":"zookeeper","permalink":"/devops/tags/zookeeper"}],"readingTime":1.89,"truncated":false,"authors":[{"name":"jeesk","title":"java engineer","url":"https://shanjiancaofu.com","imageURL":"https://shanjiancaofu.com/img/avtor.png","key":"jeesk"}],"frontMatter":{"slug":"zookeeper-cluster-start-script","title":"Zookeeper\u4e00\u952e\u7fa4\u542f\u811a\u672c","authors":["jeesk"],"tags":["zookeeper"]},"prevItem":{"title":"MDX Blog Post","permalink":"/devops/mdx-blog-post"},"nextItem":{"title":"Storm-\u96c6\u7fa4\u642d\u5efa\u5165\u95e8","permalink":"/devops/install-cluster-apache-storm"}},"content":">    \u4e3a\u4e86\u65b9\u4fbf\u7ba1\u7406zookeeper \u96c6\u7fa4, \u6211\u4eec\u5199\u4e86\u4e00\u4e2azookeeper \u811a\u672c\\n\\n1.  \u5728bin/zkEnv.sh\u6587\u4ef6\u4e2d,zk \u589e\u52a0JAVA_HOME .(\u6709\u4e9b\u65f6\u5019\u65e0\u6cd5\u627e\u5230JAVA_HOME,\u6240\u4ee5\u5148\u589e\u52a0JAVA_HOME)\\n  ```\\nZOOBINDIR=\\"${ZOOBINDIR:-/usr/bin}\\"\\nZOOKEEPER_PREFIX=\\"${ZOOBINDIR}/..\\"\\n#\u5728\u4e0a\u9762\u76842\u6bb5\u6587\u5b57\u4e0b\u9762\u589e\u52a0 JAVA_HOME, \u4e0b\u9762\u7684\u8def\u5f84\u662f\u4f60\u7684 jdk HOME\u76ee\u5f55\\nexport JAVA_HOME=/opt/soft/jdk1.8.0_161\\n```\\n2.  3 \u53f0\u673a\u5668\u514d\u5bc6\u767b\u5f55, \u5206\u522b\u4e3azk01,zk02,zk03\\n     \\n```\\n# zk01 \u6267\u884c \\nssh-copy-id root@zk02\\nssh-copy-id root@zk03\\n```\\n \\n```\\n#  zk02 \u6267\u884c \\nssh-copy-id root@zk01\\nssh-copy-id root@zk03\\n```\\n```\\n#  zk03 \u6267\u884c \\nssh-copy-id root@zk01\\nssh-copy-id root@zk02\\n```\\n\u8fd9\u4e2a\u65f6\u5019, \u4f60\u53ef\u4ee5\u4f7f\u7528 \u5728\u4efb\u610f\u4e00\u53f0\u673a\u5668\u4e0a\u9762\u6267\u884c\u514d\u5bc6\u767b\u5f55\\n3.  \u57282\u53f0\u673a\u5668\u4e0b\u9762\u7684 bin \u76ee\u5f55\u4e0b\u9762\u589e\u52a0  zkCluster.sh\\n```\\n\\n#!/bin/bash\\n\\nred=\'\\\\e[91m\'\\ngreen=\'\\\\e[92m\'\\nyellow=\'\\\\e[93m\'\\nmagenta=\'\\\\e[95m\'\\ncyan=\'\\\\e[96m\'\\nnone=\'\\\\e[0m\'\\n\\nzk_home=$zk_home\\ncluster_array=(192.168.17.81 192.168.17.82 192.168.17.83)\\n\\n# 1. \u83b7\u53d6\u8f93\u5165\u53c2\u6570\u4e2a\u6570\uff0c\u5982\u679c\u6ca1\u6709\u53c2\u6570\uff0c\u76f4\u63a5\u9000\u51fa\\nif (($# == 0)); then\\n    echo -e ------------------- ${yellow}no args${none} -------------------\\n    exit\\nfi\\n\\n# 2. \u6839\u636e\u6307\u4ee4\u5faa\u73af\u64cd\u4f5c\u96c6\u7fa4\\ncase $1 in\\n\\"start\\") {\\n    for host in ${cluster_array[@]}; do\\n        echo -e ------------------- $yellow$host$none -------------------\\n        ssh $host \\"$zk_home/bin/zkServer.sh start\\"\\n    done\\n} ;;\\n\\n\\"stop\\") {\\n    for host in ${cluster_array[@]}; do\\n        echo -e ------------------- $yellow$host$none -------------------\\n        ssh $host \\"$zk_home/bin/zkServer.sh stop\\"\\n    done\\n} ;;\\n\\n\\"status\\") {\\n    for host in ${cluster_array[@]}; do\\n        echo -e ------------------- $yellow$host$none -------------------\\n        ssh $host \\"$zk_home/bin/zkServer.sh status\\"\\n    done\\n} ;;\\n\\nesac\\n```\\n\u4e0a\u9762\u7684 cluster_array \u5c31\u662f\u4f60\u76843\u53f0\u673a\u5668ip ,\u4e5f\u53ef\u4ee5\u4f7f\u7528\u522b\u540d\u4ee3\u66ff\\n\u8fd9\u4e2a\u65f6\u5019, \u4f60\u53ef\u4ee5\u5728\u4efb\u610f\u4e00\u53f0\u673a\u5668\u7684zk bin\u76ee\u5f55\u4e0b\u9762\u6267\u884c\\n-  \u7fa4\u542f\u52a8: ./zkCluster.sh start \\n-  \u7fa4\u5173\u95ed: ./zkCluster.sh stop \\n-  \u7fa4\u67e5\u770b\u72b6\u6001: ./zkCluster.sh status \\n\u5982\u679c\u811a\u672c\u6ca1\u6709\u6267\u884c\u6743\u9650, \u589e\u52a0\u6267\u884c\u6743\u9650 `chmod u+x zkCluster.sh`  \u5373\u53ef.\\n\\n>  \u5b8c\u7ed3\u6492\u82b1, \u8def\u8fc7\u70b9\u8d5e, \u6708\u516510W !"},{"id":"install-cluster-apache-storm","metadata":{"permalink":"/devops/install-cluster-apache-storm","source":"@site/devops/2021-05-08-install-cluster-apache-storm.md","title":"Storm-\u96c6\u7fa4\u642d\u5efa\u5165\u95e8","description":"\u524d\u7f6e\u5de5\u4f5c","date":"2021-05-08T00:00:00.000Z","formattedDate":"May 8, 2021","tags":[{"label":"storm","permalink":"/devops/tags/storm"}],"readingTime":2.315,"truncated":false,"authors":[{"name":"jeesk","title":"java engineer","url":"https://shanjiancaofu.com","imageURL":"https://shanjiancaofu.com/img/avtor.png","key":"jeesk"}],"frontMatter":{"slug":"install-cluster-apache-storm","title":"Storm-\u96c6\u7fa4\u642d\u5efa\u5165\u95e8","authors":["jeesk"],"tags":["storm"]},"prevItem":{"title":"Zookeeper\u4e00\u952e\u7fa4\u542f\u811a\u672c","permalink":"/devops/zookeeper-cluster-start-script"},"nextItem":{"title":"NFS\u5728linux\u4e0b\u9762\u7684\u7b80\u5355\u4f7f\u7528","permalink":"/devops/nfs-use"}},"content":"####  \u524d\u7f6e\u5de5\u4f5c\\n1.  3\u53f0 \u5b89\u88c5JDK 8\u7684\u865a\u62df\u673a\\n2.  3\u53f0\u673a\u5668\u5b89\u88c5 zookeeper \u96c6\u7fa4\u7684\u673a\u5668\\n3.  \u4fee\u6539hosts \u5982\u4e0b,\u5047\u8bbe\u6211\u4eec\u67093 \u53f0\u673a\u5668,ip 192.168.17.81,192.168.17.82,192.168.17.83, \u4fee\u6539hosts\u6587\u4ef6\\n```\\n\\n192.168.17.81 zk01 kafka01 storm01\\n192.168.17.82 zk02 kafka02 storm02\\n192.168.17.83 zk03 kafka03 storm03\\n```\\n1.  \u4e0b\u8f7dstorm \u5b89\u88c5\u5305\\n\u6253\u5f00storm \u53d1\u884c\u7248\u9875\u9762 `http://storm.apache.org/downloads.html`, \u9009\u53d6\u4e00\u4e2astorm \u7684\u4e8c\u8fdb\u5236\u4e0b\u8f7d ```\\n```\\nwget  https://www.apache.org/dyn/closer.lua/storm/apache-storm-2.2.0/apache-storm-2.2.0.tar.gz\\n```\\n2.  \u5206\u53d1\u89e3\u538b\\n```\\n# \u5728storm01 \u7684\u673a\u5668\u4e0a\u9762\u6267\u884c, 3 \u53f0\u673a\u5668\u8bb0\u5f97\u914d\u7f6e\u4e92\u76f8\u514d\u5bc6\u767b\u5f55\\n scp apache-storm-2.2.0.tar.gz root@storm02:/opt/soft/\\n scp apache-storm-2.2.0.tar.gz root@storm03:/opt/soft/\\n#  \u57283 \u53f0\u673a\u5668\u5bf9\u5e94\u7684\u76ee\u5f55\u6267\u884c\u89e3\u538b, \u8f6f\u8fde\u63a5\\ntar -zxvf apache-storm-2.2.0.tar.gz  && ln -s  /opt/soft/apache-storm-2.2.0 storm\\n``` \\n3.  \u4fee\u6539\u914d\u7f6e\\n\u5728storm01 \u7684 /opt/soft/storm/conf \u76ee\u5f55\u4e0b\u6267\u884c\u4e00\u9762\u7684\u64cd\u4f5c\\n```\\ncp storm.yaml storm.yaml.bak\\nvim storm.yaml\\n```\\n\u6587\u4ef6\u91cc\u9762\u7c98\u8d34\u5982\u4e0b\u5185\u5bb9\\n```\\n#  storm \u76843\u53f0\u673a\u5668\\nstorm.zookeeper.servers:\\n        - \\"storm01\\"\\n        - \\"storm02\\"\\n        - \\"storm03\\"\\n# \u914d\u7f6enimbus \u673a\u5668\u7684IP\\nnimbus.host:    \\"storm01\\"\\n# \u914d\u7f6e\u5bf9\u5e94\u7ec4\u4ef6\u7684jvm \u5185\u5b58\\nnimbus.childopts:       \\"-Xmx1024m\\"\\nsupervisor.childopts:   \\"-Xmx1024m\\"\\nworker.childopts:       \\"-Xmx1024m\\"\\nui.childopts:   \\"-Xmx768m\\"\\n# \u914d\u7f6esupervisor \u7684\u7aef\u53e3\\nsupervisor.slots.ports:\\n        -       6700\\n        -       6701\\n        -       6702\\n        -       6703\\n# \u914d\u7f6estorm ui\u7684\u7aef\u53e3, \u8fd9\u4e2a\u7aef\u53e3\u662fnimbus \u673a\u5668\u4e0a\u542f\u52a8\u7684ui. \\nui.port: 9999\\n```\\n\u5c06storm.yaml, \u5206\u53d1\u5230\u53e6\u59162\u53f0\u673a\u5668\u4e0a\u9762\\n```\\nscp storm.yaml root@storm02:/opt/soft/storm/conf\\nscp storm.yaml root@storm03:/opt/soft/storm/conf\\n```\\n\\n4.  \u76f8\u5173\u547d\u4ee4\u5728storm \u7684bin\u76ee\u5f55\u6267\u884c\\n  -  \u542f\u52a8nimbus:  `./storm nimbus `\\n  -  \u542f\u52a8storm ui:  `./storm ui`\\n  -  \u542f\u52a8supervisor:  `./storm supervisor`\\n  -  \u542f\u52a8\u62d3\u6251: `./storm jar xxxxx.jar  \u62d3\u6251\u540d\u79f0`\\n  -  \u6740\u6b7b\u62d3\u6251: `./storm kill \u62d3\u6251\u540d\u79f0 -w 10` , \u6267\u884ckill \u547d\u4ee4\u53ef\u4ee5\u901a\u8fc7-2\\n \u7b49\u5f85\u79d2\u6570,\u6267\u884c\u505c\u7528\u4ee5\u540e\u7684\u7b49\u5f85\u65f6\u95f4\\n +  \u505c\u7528\u4efb\u52a1:  `./storm deactivte \u62d3\u6251\u540d\u79f0`\\n  -  \u542f\u7528\u4efb\u52a1: `./storm activate \u62d3\u6251\u540d`\\n  -  \u91cd\u65b0\u90e8\u7f72\u4efb\u52a1: `./storm rebalance \u62d3\u6251\u540d`\\n \u6ce8\u610f, \u542f\u52a8nimbus, ui \u7684\u547d\u4ee4\u53ea\u80fd\u5728nimbus \u7684\u673a\u5668\u4e0a\u9762\u6267\u884c, \u542f\u52a8supervisor \u53ea\u80fd\u5728\u53e6\u59162\u53f0\u673a\u5668\u4e0a\u9762\u6267\u884c.  \\n    \u4e0a\u9762storm ui\u7684\u8bbf\u95ee\u5730\u5740 http://storm01:9999/index.html\\n\\n>  \u5b8c\u7ed3\u6492\u82b1,\u8def\u8fc7\u70b9\u8d5e, \u6708\u516510W ."},{"id":"nfs-use","metadata":{"permalink":"/devops/nfs-use","source":"@site/devops/2021-05-07-nfs-use.md","title":"NFS\u5728linux\u4e0b\u9762\u7684\u7b80\u5355\u4f7f\u7528","description":"\u6700\u8fd1\u9047\u5230\u4e86\u70b9\u95ee\u9898\uff0c\u9879\u76ee\u672c\u6765\u4ee5\u4e3a\u4e0d\u4f1a\u90e8\u7f72\u591a\u4e2a\u7ad9\u70b9\uff0c\u4e0a\u4f20\u6587\u4ef6\u4e4b\u7c7b\u7684\u5c31\u76f4\u63a5\u914d\u7f6e\u5230\u672c\u673a\u7684\u76ee\u5f55\u4e0b\u4e86\uff0c\u8fd9\u6837\u4e00\u6765\u90e8\u7f72\u591a\u4e2a\u7ad9\u70b9\u4e5f\u6ca1\u6709\u516c\u7528\u7684\u6587\u4ef6\u670d\u52a1\u5668\uff0c\u574f\u4e8b\u4e86\uff0c\u7f51\u4e0a\u4e00\u627e\u529e\u6cd5\uff0cnfs\u80fd\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u90a3\u5c31\u5f00\u59cb\u8bd5\u4e00\u8bd5\u3002","date":"2021-05-07T00:00:00.000Z","formattedDate":"May 7, 2021","tags":[{"label":"nfs","permalink":"/devops/tags/nfs"}],"readingTime":2.74,"truncated":false,"authors":[{"name":"jeesk","title":"java engineer","url":"https://shanjiancaofu.com","imageURL":"https://shanjiancaofu.com/img/avtor.png","key":"jeesk"}],"frontMatter":{"slug":"nfs-use","title":"NFS\u5728linux\u4e0b\u9762\u7684\u7b80\u5355\u4f7f\u7528","authors":["jeesk"],"tags":["nfs"]},"prevItem":{"title":"Storm-\u96c6\u7fa4\u642d\u5efa\u5165\u95e8","permalink":"/devops/install-cluster-apache-storm"},"nextItem":{"title":"Kafka-\u96c6\u7fa4\u6559\u7a0b,\u53ca\u82e5\u5e72\u914d\u7f6e\u8bf4\u660e","permalink":"/devops/install-cluster-kafka"}},"content":"\u6700\u8fd1\u9047\u5230\u4e86\u70b9\u95ee\u9898\uff0c\u9879\u76ee\u672c\u6765\u4ee5\u4e3a\u4e0d\u4f1a\u90e8\u7f72\u591a\u4e2a\u7ad9\u70b9\uff0c\u4e0a\u4f20\u6587\u4ef6\u4e4b\u7c7b\u7684\u5c31\u76f4\u63a5\u914d\u7f6e\u5230\u672c\u673a\u7684\u76ee\u5f55\u4e0b\u4e86\uff0c\u8fd9\u6837\u4e00\u6765\u90e8\u7f72\u591a\u4e2a\u7ad9\u70b9\u4e5f\u6ca1\u6709\u516c\u7528\u7684\u6587\u4ef6\u670d\u52a1\u5668\uff0c\u574f\u4e8b\u4e86\uff0c\u7f51\u4e0a\u4e00\u627e\u529e\u6cd5\uff0cnfs\u80fd\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u90a3\u5c31\u5f00\u59cb\u8bd5\u4e00\u8bd5\u3002\\n\\n## \u73af\u5883\u4ecb\u7ecd\uff1a\\n\\n```\\n\u670d\u52a1\u5668\uff1aCentOS 6.4_64 server ip\uff1a10.1.1.52 \u670d\u52a1\u5668\uff1aCentOS 6.4_64 client ip\uff1a10.1.1.47\\n```\\n\\n## \u5b89\u88c5nfs(\u4e24\u53f0\u5747\u5b89\u88c5)\\n\\n```\\nyum install nfs-utils rpcbind\\n```\\n\\n## \u670d\u52a1\u7aef\u914d\u7f6e\\n\\n### 1\u3001\u521b\u5efa\u5171\u4eab\u76ee\u5f55\\n\\n```\\nmkdir /home/test\\n```\\n\\n2\u3001NFS\u6587\u4ef6\u914d\u7f6e\\n\\nvi /etc/exports\\n\\n\u589e\u52a0\u5982\u4e0b\u4e00\u884c\uff1a\\n\\n`/home/test/\xa010.1.1.47(rw,no_root_squash,no_all_squash,sync)`\\n\\n`\u4f7f\u914d\u7f6e\u751f\u6548`\\n\\n*`exportfs -rv`*\\n\\n\u6ce8\uff1a\u914d\u7f6e\u6587\u4ef6\u8bf4\u660e\uff1a\xa0\\n\\n/usr/local/test/ \u4e3a\u5171\u4eab\u7684\u76ee\u5f55\uff0c\u4f7f\u7528\u7edd\u5bf9\u8def\u5f84\u3002\\nNFS_Client_IP(rw,no_root_squash,no_all_squash,sync)\u4e3a\u5ba2\u6237\u7aef\u7684\u5730\u5740\u53ca\u6743\u9650\uff0c\u5730\u5740\u53ef\u4ee5\u662f\u4e00\u4e2a\u7f51\u6bb5\uff0c\u4e00\u4e2aIP\u5730\u5740\u6216\u8005\u662f\u4e00\u4e2a\u57df\u540d\uff0c\u57df\u540d\u652f\u6301\u901a\u914d\u7b26\uff0c\u5982\uff1a*.youxia.com\uff0c\u5730\u5740\u4e0e\u6743\u9650\u4e2d\u95f4\u6ca1\u6709\u7a7a\u683c\uff0c\u6743\u9650\u8bf4\u660e\uff1a\\nrw\uff1aread-write\uff0c\u53ef\u8bfb\u5199\uff1b\\nro\uff1aread-only\uff0c\u53ea\u8bfb\uff1b\\nsync\uff1a\u6587\u4ef6\u540c\u65f6\u5199\u5165\u786c\u76d8\u548c\u5185\u5b58\uff1b\\nasync\uff1a\u6587\u4ef6\u6682\u5b58\u4e8e\u5185\u5b58\uff0c\u800c\u4e0d\u662f\u76f4\u63a5\u5199\u5165\u5185\u5b58\uff1b\\nno_root_squash\uff1aNFS\u5ba2\u6237\u7aef\u8fde\u63a5\u670d\u52a1\u7aef\u65f6\u5982\u679c\u4f7f\u7528\u7684\u662froot\u7684\u8bdd\uff0c\u90a3\u4e48\u5bf9\u670d\u52a1\u7aef\u5206\u4eab\u7684\u76ee\u5f55\u6765\u8bf4\uff0c\u4e5f\u62e5\u6709root\u6743\u9650\u3002\u663e\u7136\u5f00\u542f\u8fd9\u9879\u662f\u4e0d\u5b89\u5168\u7684\u3002\\nroot_squash\uff1aNFS\u5ba2\u6237\u7aef\u8fde\u63a5\u670d\u52a1\u7aef\u65f6\u5982\u679c\u4f7f\u7528\u7684\u662froot\u7684\u8bdd\uff0c\u90a3\u4e48\u5bf9\u670d\u52a1\u7aef\u5206\u4eab\u7684\u76ee\u5f55\u6765\u8bf4\uff0c\u62e5\u6709\u533f\u540d\u7528\u6237\u6743\u9650\uff0c\u901a\u5e38\u4ed6\u5c06\u4f7f\u7528nobody\u6216nfsnobody\u8eab\u4efd\uff1b\\nall_squash\uff1a\u4e0d\u8bbaNFS\u5ba2\u6237\u7aef\u8fde\u63a5\u670d\u52a1\u7aef\u65f6\u4f7f\u7528\u4ec0\u4e48\u7528\u6237\uff0c\u5bf9\u670d\u52a1\u7aef\u5206\u4eab\u7684\u76ee\u5f55\u6765\u8bf4\u90fd\u662f\u62e5\u6709\u533f\u540d\u7528\u6237\u6743\u9650\uff1b\\nanonuid\uff1a\u533f\u540d\u7528\u6237\u7684UID\u503c\uff0c\u901a\u5e38\u662fnobody\u6216nfsnobody\uff0c\u53ef\u4ee5\u5728\u6b64\u5904\u81ea\u884c\u8bbe\u5b9a\uff1b\\nanongid\uff1a\u533f\u540d\u7528\u6237\u7684GID\u503c\u3002\\n\\n## *\u542f\u52a8\u670d\u52a1\u7aef*\\n\\n```\\nservice rpcbind startservice nfs start\\n```\\n\\n**\u5ba2\u6237\u7aef\u6302\u8f7d**\\n\\n### 1\u3001\u521b\u5efa\u9700\u8981\u6302\u8f7d\u7684\u76ee\u5f55\uff1a\\n\\n```\\nmkdir /usr/local/test\\n```\\n\\n### 2\u3001\u6d4b\u8bd5\u6302\u8f7d\uff1a\\n\\n```\\nshowmount -e 10.1.1.52\\n```\\n\\n3\u3001\u6302\u8f7d\\n\\n```\\nmount -t nfs NFS_Server_IP:/usr/local/test/usr/local/test mount\\n\\nmount -t nfs 10.10.202.230:/hadoop/AD /hadoop/AD\\n\\n```\\n\\nNFS_Server_IP:/usr/local/test on /usr/local/testtype nfs (rw,vers=4,addr= NFS_Server_IP,clientaddr= NFS_Client_IP)\xa0\\n\\n\u5982\u679c\u4fe1\u606f\u5982\u4e0a\u663e\u793a\u5219\u6302\u8f7d\u6210\u529f\uff01\\n\\n****4\u3001\u6d4b\u8bd5\uff1a****\\n\\n\u5ba2\u6237\u7aef\u65b0\u5efa\u4e00\u4e2a\u6587\u4ef6\uff1a\\n\\n```\\ncd /home/testecho \\"nfs test\\">>test.txt\\n```\\n\\n\u770b\u4e00\u4e0b\u670d\u52a1\u7aef\u5171\u4eab\u76ee\u5f55\u6709\u6b64\u6587\u4ef6\u5417"},{"id":"install-cluster-kafka","metadata":{"permalink":"/devops/install-cluster-kafka","source":"@site/devops/2021-05-06-install-cluster-kafka.md","title":"Kafka-\u96c6\u7fa4\u6559\u7a0b,\u53ca\u82e5\u5e72\u914d\u7f6e\u8bf4\u660e","description":"\u524d\u7f6e\u9700\u6c42","date":"2021-05-06T00:00:00.000Z","formattedDate":"May 6, 2021","tags":[{"label":"kafka","permalink":"/devops/tags/kafka"}],"readingTime":6.415,"truncated":false,"authors":[{"name":"jeesk","title":"java engineer","url":"https://shanjiancaofu.com","imageURL":"https://shanjiancaofu.com/img/avtor.png","key":"jeesk"}],"frontMatter":{"slug":"install-cluster-kafka","title":"Kafka-\u96c6\u7fa4\u6559\u7a0b,\u53ca\u82e5\u5e72\u914d\u7f6e\u8bf4\u660e","authors":["jeesk"],"tags":["kafka"]},"prevItem":{"title":"NFS\u5728linux\u4e0b\u9762\u7684\u7b80\u5355\u4f7f\u7528","permalink":"/devops/nfs-use"},"nextItem":{"title":"K8s\u7684ingress-\u914d\u7f6e\u8de8\u57df\u548c\u767d\u540d\u5355","permalink":"/devops/k8s-ingress-cross-domain-whitelist"}},"content":"####  \u524d\u7f6e\u9700\u6c42\\n\\n-    3\u53f0\u88c5\u6709JDK 8 \u7684\u865a\u62df\u673a\\n-    zookeeper \u96c6\u7fa4 3\u53f0\\n-    \u5047\u8bbe\u67093\u53f0\u673a\u5668, 192.168.17.81,192.168.17.82,192.168.17.83 \u5206\u522b\u4e2a\u522b\u540d\\n     \u4fee\u6539 /etc/hosts \u6587\u4ef6\u589e\u52a0\u4e0b\u9762\u522b\u540d, \u65b9\u9762\u811a\u672c\u64cd\u4f5c\\n\\n```\\n192.168.17.81 zk01 kafka1\\n192.168.17.82 zk02 kafka2 \\n192.168.17.83 zk03 kafka3 \\n```\\n\\n####  \u5b89\u88c5\u6559\u7a0b \\n\\n1.  $\\\\color{#FF0000}{\u4e0b\u8f7d kafka \u5b89\u88c5\u5305,\u5e76\u4e14\u5206\u53d1\u5b89\u88c5\u5305\u5230\u53e6\u59162\u53f0\u673a\u5668}$\\n    \u6253\u5f00 kafka \u53d1\u884c\u7248\u7684\u4e0b\u8f7d\u9875\u9762 `http://kafka.apache.org/downloads`, \u8fd9\u91cc\u6709\u5f88\u591a\u7684\u7248\u672c, \u6211\u4eec\u9009\u53d6\u6700\u65b0\u7684\u4e00\u4e2a\u7248\u672c\u4e0b\u8f7d\\n\\n```\\ncd /opt/soft\\nwget https://www.apache.org/dyn/closer.cgi?path=/kafka/2.6.0/kafka_2.12-2.6.0.tgz\\nscp  kafka_2.12-2.6.0.tgz root@zk02:/opt/soft/\\nscp  kafka_2.12-2.6.0.tgz root@zk03:/opt/soft/\\n```\\n\\n2.   $\\\\color{#FF0000}{\u4fee\u6539 hosts }$\\n      -  \u89e3\u538b\u6587\u4ef6\\n\\n```\\n# 3\u53f0\u673a\u5668\u5206\u522b\u6267\u884c\u89e3\u538b\u547d\u4ee4,\u548c\u8f6f\u8fde\u63a5\u547d\u4ee4\\ntar -zxvf  kafka_2.12-2.6.0.tgz && ln -s /opt/soft/kafka_2.12-2.6.0 kafka\\n# \u8fdb\u5165kafka \\ncd kafka\\n```\\n\\n  -  \u4fee\u6539\u914d\u7f6e\u6587\u4ef6  config/server.properties\\n     \u8fd9\u4e2a\u6587\u4ef6\u9700\u8981\u4fee\u6539\u7684\u914d\u7f6e\\n\\n```\\n# \u8fd9\u91cc\u7684id , 3\u53f0\u673a\u5668\u5fc5\u987b\u4e0d\u540c\\nbroker.id=0\\n# \u8fd9\u662f\u65b0\u589e\u7684\u914d\u7f6e, \u8ba9topic \u80fd\u591f\u5220\u9664\\ndelete.topic.enable=true\\n# \u65b0\u589e\u7684\u914d\u7f6e, \u914d\u7f6e3 \u53f0\u673a\u5668\u7684zk\\nzookeeper.connect=zk01:2181,zk02:2181,zk03:2181\\n# \u4fee\u6539\u914d\u7f6e\\nlisteners=PLAINTEXT://=zk01:9092\\n```\\n\\n>  \u5982\u679c\u610f\u5916\u6ca1\u6709\u4fee\u6539delete.topic.enable=true , \u5982\u4f55\u5220\u9664kafka \u7684topic\u5462\u3002 \\n1.  \u624b\u52a8\u5728zk \u91cc\u9762\u5220\u9664brokers/topics/\u4e3b\u9898\u540d\uff0c\u3001config/topics/\u4e3b\u9898\u540d\\n2. \u5220\u9664kafka \u7684data\uff0c \u4e00\u822c\u5728log.dir,\u6216\u8005log.dirs \u7684 \u76ee\u5f55\u5220\u9664\u548c\u4e3b\u9898\u540d\u4e3a\u524d\u7f00\u7684\u6587\u4ef6\u5373\u53ef\u3002\\n\\n\u5c06\u8fd9\u4e2a\u6587\u4ef6\u5206\u53d1\u5230\u53e6\u59162\u53f0\u673a\u5668\u5bf9\u5e94\u7684\u76ee\u5f55, \u7136\u540e 3\u53f0\u673a\u5668\u4e0d\u540c\u7684\u5730\u65b9\u4e3b\u8981\u662f:\\n\\n-  broker.id=0, \u8fd9\u91cc\u7684id , 3\u53f0\u673a\u5668\u5fc5\u987b\u4e0d\u540c\\n-  listeners=PLAINTEXT://=zk01:9092 , \u8fd9 zk01, \u5728\u53e6\u5916\u4e24\u53f0\u5206\u522b\u66ff\u6362\u6210zk02,zk03\\n\\n3. $\\\\color{#FF0000}{\u5e38\u7528\u547d\u4ee4}$\\n   \u5982\u4e0b: \\n       -   \u542f\u52a8:  `/opt/soft/kafka/bin/kafka-server-start.sh -daemon config/server.properties`\\n\\n     -   \u5173\u95ed:  `bin/kafka-server-stop.sh stop`\\n     -   \u67e5\u770b\u6240\u6709\u7684 topic:   ` bin/kafka-topics.sh --zookeeper zk01:2181 --list` , \u8fd9\u91cc\u7684 zk01, \\n     -   \u521b\u5efatopic:  ` bin/kafka-topics.sh  --zookeeper zk01:2181 --create --replication-factor 3 --partitions 1 --topic bade ` \\n         \u8fd9\u91cc\u7684zk01 \u662f\u4f60zk\u7684\u673a\u5668, replication-factor \u5b9a\u4e49\u590d\u672c\u6570\u91cf,partitions \u5b9a\u4e49\u5206\u533a\u6570\u91cf\\n   -   \u521b\u5efatopic \u7684\u65f6\u5019\u589e\u52a0\u914d\u7f6e \\n\\n   bin/kafka-topics.sh  --zookeeper zk01:2181 --create --replication-factor 3 --partitions 1 --topic bade --config max.message.bytes=10000\\n\\n   - \u4fee\u6539opic \u7684\u65f6\u5019\u5220\u9664\u914d\u7f6e `bin/kafka-topics.sh  --zookeeper zk01:2181 --create --replication-factor 3 --partitions 1 --topic bade --delete_config max.message.bytes`\\t\\n\\n   - \u5220\u9664topic:  `bin/kafka-topics.sh  --zookeeperhadoop102:2181  --delete --topic first ` , \u6ce8\u610f: \u5982\u679c \u4f60\u5728 config/server.properties \u91cc\u9762\u6ca1\u6709\u5b9a\u4e49 delete.topic.enable=true, \u90a3\u4e48 topic \u53ea\u662f\u6807\u8bb0\u5220\u9664\u4e86\\n\\n   - \u6307\u5b9atopic \u53d1\u9001\u6d88\u606f:  `bin/kafka-console-producer.sh --broker-list hadoop102:9092 --topic  first` , \u6ce8\u610f\u8fd9\u91ccv\u7684first \u662ftopic \u7684\u540d\u79f0\\n   - \u6307\u5b9atopic \u6d88\u8d39\u6d88\u606f: `bin/kafka-console-consumer.sh --bootstrap-server hadoop102:9092 --topic first`\\n    - \u67e5\u770bTopic\u8be6\u60c5: `bin/kafka-topics.sh  --zookeeper 192.168.17.81:2181 --describe --topic first` , \u8fd9\u91cc\u7684first \u662ftopic\u540d\u79f0\\n   - \u4fee\u6539topic \u5206\u533a\u6570\u91cf: `bin/kafka-topics.sh  --zookeeper 192.168.17.81:2181 --alter --topic first --partitions 6`\\n     tips: \u6ce8\u610f\u5982\u679c\u4e8b\u901a\u8fc7key\u6765\u8ba1\u7b97\u5206\u533a\uff0c\u8fdb\u884c\u987a\u5e8f\u6d88\u8d39\uff0c\u589e\u52a0\u5206\u533a\u4e09\u601d\u800c\u540e\u884c\u3002 \u5206\u533a\u6570\u91cf\u53ea\u80fd\u589e\u52a0\u4e0d\u80fd\u51cf\u5c11\u3002\\n   - \u67e5\u770b\u4e0d\u53ef\u7528\u7684\u5206\u533a `bin/kafka-topics.sh  --zookeeper 192.168.17.83:2181 --describe --unavailable-partitions`\\n   - \u67e5\u770b\u8986\u76d6\u914d\u7f6e\u7684topic ` bin/kafka-topics.sh  --zookeeper 192.168.17.83:2181 --describe --topics-with-overrides`\\n   - \u67e5\u770b\u5305\u542b\u5931\u6548\u7684\u526f\u672c\u5206\u533a `bin/kafka-topics.sh  --zookeeper 192.168.17.83:2181 --describe --under-replicated-partitions` \\n   - \u521b\u5efa\u4e3b\u9898\u589e\u52a0\u4e0d\u5b58\u5728\u624d\u521b\u5efa\u7684\u914d\u7f6e ` bin/kafka-topics.sh  --zookeeper zk01:2181 --create --replication-factor 3 --partitions 1 --topic bade  --if-not-exists`\\n   - \u4fee\u6539\u4e3b\u9898\u914d\u7f6e\u5b58\u5728\u4e3b\u9898\u624d\u4fee\u6539 `bin/kafka-topics.sh  --zookeeper 192.168.17.81:2181 --alter --topic first --partitions 6 --if-exists`\\n    -   \u65b0\u7248\u914d\u7f6e\u7ba1\u7406kafka-config.sh\\n\\n\\n\\n4.   $\\\\color{#FF0000}{kakfa \u914d\u7f6e\u8bf4\u660e}$\\n        \u5982\u4e0b:  \\n              1.    \u5728\u6211\u4eec\u751f\u4ea7\u73af\u5883\u4e2d\u7684ack \u914d\u7f6e \u662f0. \u4e0d\u7b49\u5f85broker\u7684ack, \u63d0\u4f9b\u4e00\u4e2a\u6700\u4f4e\u7684\u5ef6\u8fdf, broker \u6ca1\u6709\u5199\u5165\u78c1\u76d8\u5c31\u5df2\u7ecf\u8fd4\u56de,\u53ef\u80fd\u4e22\u5931\u6570\u636e.\\n              2.    ack  = 1, \u5f53partition\u7684leader \u7684\u6570\u636e\u843d\u76d8\u5c31\u8fd4\u56de,\u5982\u679c\u5728follower \u540c\u6b65\u6210\u529f\u4e4b\u524dleader \u6545\u969c\u53ef\u80fd\u4e22\u5931\u8bd7\u53e5\\n              3.    ack = -1, \u5f53partition\u7684leader \u548cfollower \u5168\u90e8\u843d\u5730\u540e\u624d\u4f1a\u8fd4\u56deack, \u5982\u679c\u5728follower \u540c\u6b65\u5b8c\u6210\u540e, broker \u53d1\u9001ack \u4e4b\u524d leader \u53d1\u751f\u6545\u969c, \u90a3\u4e48\u5c06\u4f1a\u9020\u6210\u91cd\u590d\\n\\n5.   $\\\\color{#FF0000}{\u6545\u969c\u5904\u7406\u7ec6\u8282}$\\n\\nlog\u6587\u4ef6\u7684HW\u548cLEO\\n\\nLEO : LOG END OFFSET \u6bcf\u4e2a\u590d\u672c\u6700\u5927\u7684offset\\n\\nHW: \u6307\u7684\u662f\u6d88\u8d39\u8005\u80fd\u591f\u89c1\u5230\u7684\u6700\u5927\u7684offset, ISR \u6700\u5c0f\u7684LEO. \\n\\n- follower  \u6545\u969c\\n  **follower \u53d1\u751f\u6545\u969c\u540e\u4f1a\u88ab\u4e34\u65f6\u8e22\u51fa ISR\uff0c\u5f85\u8be5 follower \u6062\u590d\u540e\uff0cfollower \u4f1a\u8bfb\u53d6\u672c\u5730\u78c1\u76d8**\\n  **\u8bb0\u5f55\u7684\u4e0a\u6b21\u7684 HW\uff0c\u5e76\u5c06 log \u6587\u4ef6\u9ad8\u4e8e HW \u7684\u90e8\u5206\u622a\u53d6\u6389\uff0c\u4ece HW \u5f00\u59cb\u5411 leader \u8fdb\u884c\u540c\u6b65\u3002**\\n  **\u7b49\u8be5 follower  \u7684 LEO  \u5927\u4e8e\u7b49\u4e8e\u8be5 Partition \u7684 \u7684 HW\uff0c\u5373 follower \u8ffd\u4e0a leader \u4e4b\u540e\uff0c\u5c31\u53ef\u4ee5\u91cd**\\n  **\u65b0\u52a0\u5165 ISR \u4e86\u3002**\\n- leader  \u6545\u969c\\n  **leader \u53d1\u751f\u6545\u969c\u4e4b\u540e\uff0c\u4f1a\u4ece ISR \u4e2d\u9009\u51fa\u4e00\u4e2a\u65b0\u7684 leader\uff0c\u4e4b\u540e\uff0c\u4e3a\u4fdd\u8bc1\u591a\u4e2a\u526f\u672c\u4e4b\u95f4\u7684\u6570\u636e\u4e00\u81f4\u6027\uff0c\u5176\u4f59\u7684 follower \u4f1a\u5148\u5c06\u5404\u81ea\u7684 log \u6587\u4ef6\u9ad8\u4e8e HW \u7684\u90e8\u5206\u622a\u6389\uff0c\u7136\u540e\u4ece\u65b0\u7684 leader**\\n  **\u540c\u6b65\u6570\u636e\u3002**(\u6ce8\u610f\uff1a \u8fd9\u53ea\u80fd\u4fdd\u8bc1\u526f\u672c\u4e4b\u95f4\u7684\u6570\u636e\u4e00\u81f4\u6027\uff0c\u5e76\u4e0d\u80fd\u4fdd\u8bc1\u6570\u636e\u4e0d\u4e22\u5931\u6216\u8005\u4e0d\u91cd\u590d)\\n\\n6  .  $\\\\color{#FF0000}{\u6d4b\u8bd5consumer \u662f\u5426\u91cd\u590d\u6d88\u8d39\u7684\u60c5\u51b5}$\\n\\n    ```\\n    \u57282\u53f0\u673a\u5668\u4e0a\u6267\u884c(\u4e0b\u9762\u7684ip\u8981\u4fee\u6539\u6210\u81ea\u5df1\u673a\u5668\u7684IP)\\n    bin/kafka-console-consumer.sh --bootstrap-server 192.168.17.82:9092 --topic bade --consumer.config config/consumer.properties\\n      \\n    ```\\n\\n>\u5982\u679c\u53d1\u751f\u8fd9\u4e2a\u9519\u8bef\\n>\\n>(id: -3 rack: null) disconnected (org.apache.kafka.clients.NetworkClient)\\n\\n```shell\\nbin/kafka-console-consumer.sh --bootstrap-server 192.168.17.82:2181 --topic first --consumer.config config/consumer.properties\\n```\\n\\n\u7aef\u53e3\u53f7\u7684\u95ee\u9898\uff0c\u4ee5\u524d\u542f\u52a8\u6d88\u8d39\u8005\u7684\u65f6\u5019\u76d1\u542c\u7684\u7aef\u53e3\u662f 2181\uff0c\u4f46\u662f\u65b0\u7248\u672c\u7684kafka\u5bf9zookeeper\u7684\u4f9d\u8d56\u6ca1\u6709\u90a3\u4e48\u5f3a\u70c8\u4e86\uff0c\u6240\u4ee5\u6539\u6210\u4e86\u81ea\u5df1\u7684 9092\u3002  \\n\\n```shell\\nbin/kafka-console-consumer.sh --bootstrap-server 192.168.17.82:9092,192.168.17.82:9092,192.168.17.83:9092 --topic first --consumer.config config/consumer.properties\\n```\\n\\n```shell\\nbin/kafka-console-producer.sh --broker-list 192.168.17.81:9092 --topic first\\n```\\n\u4f60\u4f1a\u53d1\u73b0consumer \u7684\u63a7\u5236\u53f0\u663e\u793a\u7684\u6d88\u606f\u6ca1\u6709\u91cd\u590d\u663e\u793a"},{"id":"k8s-ingress-cross-domain-whitelist","metadata":{"permalink":"/devops/k8s-ingress-cross-domain-whitelist","source":"@site/devops/2021-05-05-k8s-ingress-cross-domain-whitelist.md","title":"K8s\u7684ingress-\u914d\u7f6e\u8de8\u57df\u548c\u767d\u540d\u5355","description":"\u914d\u7f6e\u8de8\u57df:","date":"2021-05-05T00:00:00.000Z","formattedDate":"May 5, 2021","tags":[{"label":"k8s","permalink":"/devops/tags/k-8-s"}],"readingTime":0.31,"truncated":false,"authors":[{"name":"jeesk","title":"java engineer","url":"https://shanjiancaofu.com","imageURL":"https://shanjiancaofu.com/img/avtor.png","key":"jeesk"}],"frontMatter":{"slug":"k8s-ingress-cross-domain-whitelist","title":"K8s\u7684ingress-\u914d\u7f6e\u8de8\u57df\u548c\u767d\u540d\u5355","authors":["jeesk"],"tags":["k8s"]},"prevItem":{"title":"Kafka-\u96c6\u7fa4\u6559\u7a0b,\u53ca\u82e5\u5e72\u914d\u7f6e\u8bf4\u660e","permalink":"/devops/install-cluster-kafka"},"nextItem":{"title":"Long Blog Post","permalink":"/devops/long-blog-post"}},"content":"\u914d\u7f6e\u8de8\u57df:\\n```\\n    nginx.ingress.kubernetes.io/Access-Control-Allow-Origin: \'http://12341234.s1.natapp.cc\'\\n    nginx.ingress.kubernetes.io/cors-allow-headers: >-\\n      AUTHTOKEN,DNT,X-CustomHeader,Keep-Alive,User-Agent,X-Requested-With,If-Modified- \\n     Since,Cache-Control,Content-Type,Authorization\\n    nginx.ingress.kubernetes.io/cors-allow-methods: \'PUT, GET, POST, OPTIONS\'\\n    nginx.ingress.kubernetes.io/cors-allow-origin: \'http://12342134.s1.natapp.cc\'\\n    nginx.ingress.kubernetes.io/enable-access-log: \'true\'\\n    nginx.ingress.kubernetes.io/enable-cors: \'true\'\\n```\\n\u914d\u7f6e\u767d\u540d\u5355:\\n```\\nnginx.ingress.kubernetes.io/whitelist-source-range: >-\\n      19.19.29.12\\n```\\n\u914d\u7f6e\u8def\u7531\u89c4\u5219\\n```\\nspec:\\n  tls:\\n    - hosts:\\n        - mysite\\n      secretName: mysite.com\\n  rules:\\n    - host: rzzm.h5cmpassport.com\\n      http:\\n        paths:\\n          - path: \'/abc*|adfd*|group[0-9]\'\\n            pathType: ImplementationSpecific\\n            backend:\\n              serviceName: mysiteservice\\n              servicePort: 8083\\n```"},{"id":"long-blog-post","metadata":{"permalink":"/devops/long-blog-post","source":"@site/devops/2019-05-29-long-blog-post.md","title":"Long Blog Post","description":"This is the summary of a very long blog post,","date":"2019-05-29T00:00:00.000Z","formattedDate":"May 29, 2019","tags":[{"label":"hello","permalink":"/devops/tags/hello"},{"label":"docusaurus","permalink":"/devops/tags/docusaurus"}],"readingTime":2.06,"truncated":true,"authors":[{"name":"Endilie Yacop Sucipto","title":"Maintainer of Docusaurus","url":"https://github.com/endiliey","imageURL":"https://github.com/endiliey.png","key":"endi"}],"frontMatter":{"slug":"long-blog-post","title":"Long Blog Post","authors":"endi","tags":["hello","docusaurus"]},"prevItem":{"title":"K8s\u7684ingress-\u914d\u7f6e\u8de8\u57df\u548c\u767d\u540d\u5355","permalink":"/devops/k8s-ingress-cross-domain-whitelist"}},"content":"This is the summary of a very long blog post,\\n\x3c!-- truncate --\x3e\\nUse a `\x3c!--` `truncate` `--\x3e` comment to limit blog post size in the list view.\\n\\n\\n\\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque elementum dignissim ultricies. Fusce rhoncus ipsum tempor eros aliquam consequat. Lorem ipsum dolor sit amet\\n\\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque elementum dignissim ultricies. Fusce rhoncus ipsum tempor eros aliquam consequat. Lorem ipsum dolor sit amet\\n\\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque elementum dignissim ultricies. Fusce rhoncus ipsum tempor eros aliquam consequat. Lorem ipsum dolor sit amet\\n\\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque elementum dignissim ultricies. Fusce rhoncus ipsum tempor eros aliquam consequat. Lorem ipsum dolor sit amet\\n\\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque elementum dignissim ultricies. Fusce rhoncus ipsum tempor eros aliquam consequat. Lorem ipsum dolor sit amet\\n\\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque elementum dignissim ultricies. Fusce rhoncus ipsum tempor eros aliquam consequat. Lorem ipsum dolor sit amet\\n\\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque elementum dignissim ultricies. Fusce rhoncus ipsum tempor eros aliquam consequat. Lorem ipsum dolor sit amet\\n\\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque elementum dignissim ultricies. Fusce rhoncus ipsum tempor eros aliquam consequat. Lorem ipsum dolor sit amet\\n\\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque elementum dignissim ultricies. Fusce rhoncus ipsum tempor eros aliquam consequat. Lorem ipsum dolor sit amet\\n\\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque elementum dignissim ultricies. Fusce rhoncus ipsum tempor eros aliquam consequat. Lorem ipsum dolor sit amet\\n\\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque elementum dignissim ultricies. Fusce rhoncus ipsum tempor eros aliquam consequat. Lorem ipsum dolor sit amet\\n\\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque elementum dignissim ultricies. Fusce rhoncus ipsum tempor eros aliquam consequat. Lorem ipsum dolor sit amet\\n\\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque elementum dignissim ultricies. Fusce rhoncus ipsum tempor eros aliquam consequat. Lorem ipsum dolor sit amet\\n\\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque elementum dignissim ultricies. Fusce rhoncus ipsum tempor eros aliquam consequat. Lorem ipsum dolor sit amet\\n\\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque elementum dignissim ultricies. Fusce rhoncus ipsum tempor eros aliquam consequat. Lorem ipsum dolor sit amet\\n\\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque elementum dignissim ultricies. Fusce rhoncus ipsum tempor eros aliquam consequat. Lorem ipsum dolor sit amet"}]}')}}]);