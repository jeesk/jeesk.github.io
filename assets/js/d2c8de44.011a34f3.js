"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[5773],{9894:function(n){n.exports=JSON.parse('{"blogPosts":[{"id":"sync-system-time","metadata":{"permalink":"/devops/sync-system-time","source":"@site/devops/2021-08-26-sync-system-time.md","title":"linux\u670d\u52a1\u5668\u65f6\u95f4\u540c\u6b65","description":">  \u6700\u8fd1\u53d1\u73b0\u81ea\u5df1\u7684\u670d\u52a1\u5668\u65f6\u95f4\u53d8\u6210\u4e86 EDT , \u8fd9\u4e2a\u662f\u7f8e\u56fd\u4e1c\u90e8\u590f\u4ee4\u65f6\u95f4. \u90a3\u4e48\u5982\u4f55\u5c06\u670d\u52a1\u5668\u7684\u65f6\u95f4\u53d8\u6210\u4e2d\u56fd\u7684\u65f6\u95f4,\u5e76\u4e14\u540c\u6b65\u5462.","date":"2021-08-26T00:00:00.000Z","formattedDate":"August 26, 2021","tags":[{"label":"linux","permalink":"/devops/tags/linux"}],"readingTime":0.935,"truncated":false,"authors":[{"name":"jeesk","title":"java engineer","url":"https://shanjiancaofu.com","imageURL":"https://shanjiancaofu.com/img/avtor.png","key":"jeesk"}],"frontMatter":{"slug":"sync-system-time","title":"linux\u670d\u52a1\u5668\u65f6\u95f4\u540c\u6b65","authors":["jeesk"],"tags":["linux"]},"nextItem":{"title":"redis\u5728\u751f\u4ea7\u73af\u5883\u7684\u914d\u7f6e","permalink":"/devops/redis-production-config"}},"content":"> >  \u6700\u8fd1\u53d1\u73b0\u81ea\u5df1\u7684\u670d\u52a1\u5668\u65f6\u95f4\u53d8\u6210\u4e86 EDT , \u8fd9\u4e2a\u662f\u7f8e\u56fd\u4e1c\u90e8\u590f\u4ee4\u65f6\u95f4. \u90a3\u4e48\u5982\u4f55\u5c06\u670d\u52a1\u5668\u7684\u65f6\u95f4\u53d8\u6210\u4e2d\u56fd\u7684\u65f6\u95f4,\u5e76\u4e14\u540c\u6b65\u5462.\\n\\n1.  \u5b89\u88c5 centos \u7684\u65f6\u95f4\u540c\u6b65\u5de5\u5177\\n``` \\nyum -y install ntp\\n```\\n2.  \u5982\u679c\u673a\u5668\u7684\u65f6\u533a\u4e0d\u662f\u4e2d\u56fd\u65f6\u533a\u9700\u8981\u91cd\u65b0\u8bbe\u7f6e\u65f6\u533a\\n```\\nmv /etc/localtime /etc/localtime.bak\\nln -s /usr/share/zoneinfo/Asia/Shanghai /etc/localtime\\n```\\n3.  \u6267\u884c\u540c\u6b65\u547d\u4ee4\\n```\\n\u540c\u6b65\u6dd8\u5b9d\u7684\u65f6\u95f4\u670d\u52a1\\nntpdate ntp1.aliyun.com \\n```\\n4.  \u4fee\u6539\u670d\u52a1\u5668\u6620\u5c04\u5230\u6211\u4eec\u7cfb\u7edf\u7684\u65f6\u95f4\uff0cok\uff1b\\n```\\nhwclock --systohc\\n```\\n5. \u589e\u52a0\u5b9a\u65f6\u4efb\u52a1\u540c\u6b65\u65f6\u95f4\\n```\\ncrontab -e  \u8fdb\u5165\u5b9a\u65f6\u4efb\u52a1 ,  \u6bcf\u969410\u5206\u949f\u540c\u6b65\u4e00\u6b21\u7cfb\u7edf\u65f6\u95f4\\n*/10 * * * *  /usr/sbin/ntpdate  ntp1.aliyun.com  \\n```\\n>  \u8def\u8fc7\u70b9\u8d5e, \u6708\u85aa10W"},{"id":"redis-production-config","metadata":{"permalink":"/devops/redis-production-config","source":"@site/devops/2021-04-11-redis-production-config.md","title":"redis\u5728\u751f\u4ea7\u73af\u5883\u7684\u914d\u7f6e","description":"\u6301\u4e45\u5316\u914d\u7f6e","date":"2021-04-11T00:00:00.000Z","formattedDate":"April 11, 2021","tags":[{"label":"redis","permalink":"/devops/tags/redis"}],"readingTime":2.485,"truncated":false,"authors":[{"name":"jeesk","title":"java engineer","url":"https://shanjiancaofu.com","imageURL":"https://shanjiancaofu.com/img/avtor.png","key":"jeesk"}],"frontMatter":{"slug":"redis-production-config","title":"redis\u5728\u751f\u4ea7\u73af\u5883\u7684\u914d\u7f6e","authors":["jeesk"],"tags":["redis"]},"prevItem":{"title":"linux\u670d\u52a1\u5668\u65f6\u95f4\u540c\u6b65","permalink":"/devops/sync-system-time"},"nextItem":{"title":"Zookeeper\u96c6\u7fa4\u5b89\u88c5\u6559\u7a0b","permalink":"/devops/install-zookeeper-cluster-lesson"}},"content":"#####  \u6301\u4e45\u5316\u914d\u7f6e\\r\\n-  RDB\\r\\n  ```\\r\\nsave 900 1\\r\\nsave 300 10\\r\\nsave 60 10000\\r\\n# \u5199\u5165\u521b\u5efa\u5feb\u7167\u5931\u8d25\u7684\u65f6\u5019\u662f\u5426\u7ee7\u7eed\u6267\u884c\u5199\u547d\u4ee4\\r\\nstop-writes-on-bgsave-error yes\\r\\n# \u5feb\u7167\u662f\u5426\u4f7f\u7528\u538b\u7f29\\r\\nrdbcompression yes\\r\\n# \u5feb\u7167\u6587\u4ef6\u76ee\u5f55\u540d\u79f0\\r\\ndbfilename dump.rdb\\r\\n  ```\\r\\n-  AOF\\r\\n```\\r\\n# \u662f\u5426\u5f00\u542faof \u6a21\u5f0f\\r\\nappendonly yes\\r\\n# \u589e\u91cf\u5907\u4efd\u9891\u7387. \u6bcf\u79d2\\r\\nappendfsync  everysec\\r\\n#  aof \u538b\u7f29 ( master \u63a8\u8350\u8bbe\u7f6e) \u662f\u5426\u540e\u53f0\u91cd\u5199\u65e5\u5fd7, \u5bf9\u6027\u80fd\u6709\u8981\u6c42\u5efa\u8bae\u914d\u7f6eyes , \u5426\u5219\u91cd\u5199\u65e5\u5fd7\u7684\u65f6\u5019\u6709\u5361\u987f\\r\\nno-appendfsync-on-rewrite yes\\r\\n# aof\u6587\u4ef6\u589e\u957f\u6bd4\u4f8b\uff0c\u6307\u5f53\u524daof\u6587\u4ef6\u6bd4\u4e0a\u6b21\u91cd\u5199\u7684\u589e\u957f\u6bd4\u4f8b\u5927\u5c0f\\r\\nauto-aof-rewrite-percentage\\r\\n# aof \u65e5\u5fd7\u91cd\u5199\u7684\u6700\u5c0f\u6bd4\u4f8b\\r\\nauto-aof-rewrite-min-size 64mb\\r\\n #  redis \u88ab\u52a0\u8f7d\u56de\u5185\u5b58\u7684\u65f6\u5019, \u53ef\u80fd\u5d29\u6e83. \u56e0\u4e3aaof\u6587\u4ef6\u53ef\u80fd\u6709\u9519\u8bef, \u5982\u679c\u914d\u7f6e\u4e3ayes \u5c06\u4f1a\u5ffd\u7565\u9519\u8bef, \u5e76\u4e14redis \u5c06\u53d1\u51fa\u4e00\u4e2a\u65e5\u5fd7\u901a\u77e5\u7528\u6237. \u5982\u679c\u914d\u7f6e\u4e3ano,  \u90a3\u4e48redis \u5c06\u65e0\u6cd5\u91cd\u542f, \u8fd9\u4e2a\u65f6\u5019\u9700\u8981\u624b\u52a8\u6267\u884credis check aof \u6765\u4fee\u590daof \u6587\u4ef6, \u4fee\u590d\u5b8c\u6210\u540e\u624d\u80fd\u91cd\u542f\\r\\naof-load-truncated yes\\r\\n```\\r\\n-  bind \u914d\u7f6e\\r\\n   redis\u672c\u8eab\u65e0\u6cd5\u9650\u5236\u3010\u53ea\u6709\u6307\u5b9a\u4e3b\u673a\u3011\u8fde\u63a5\u5230redis\u4e2d\uff0c\u5c31\u50cf\u6211\u4e0a\u9762\u8bf4\u7684\u4e00\u6837\uff0cbind\u6307\u5b9a\u53ea\u662f\u7528\u6765\u8bbe\u7f6e\u63a5\u53e3\u5730\u5740\uff08interfaces\uff09\u3002\\r\\n\\r\\n```\\r\\n 1.\u5982\u679c\u4f60\u7684bind\u8bbe\u7f6e\u4e3a\uff1abind 127.0.0.1\uff0c\u8fd9\u662f\u975e\u5e38\u5b89\u5168\u7684\uff0c\u56e0\u4e3a\u53ea\u6709\u672c\u53f0\u4e3b\u673a\u53ef\u4ee5\u8fde\u63a5\u5230redis\uff0c\u5c31\u7b97\u4e0d\u8bbe\u7f6e\u5bc6\u7801\uff0c\u4e5f\u662f\u5b89\u5168\u7684\uff0c\u9664\u975e\u6709\u4eba\u767b\u5165\u5230\u4f60\u7684\u670d\u52a1\u5668\u4e0a\u3002\\r\\n\\r\\n  2.\u5982\u679c\u4f60\u7684bind\u8bbe\u7f6e\u4e3a\uff1abind 0.0.0.0\uff0c\u8868\u793a\u6240\u6709\u4e3b\u673a\u90fd\u53ef\u4ee5\u8fde\u63a5\u5230redis\u3002\uff08\u524d\u63d0\uff1a\u4f60\u7684\u670d\u52a1\u5668\u5fc5\u987b\u5f00\u653eredis\u7684\u7aef\u53e3\uff09\u3002\u8fd9\u65f6\u8bbe\u7f6e\u5bc6\u7801\uff0c\u5c31\u4f1a\u591a\u4e00\u5c42\u4fdd\u62a4\uff0c\u53ea\u6709\u77e5\u9053\u5bc6\u7801\u7684\u624d\u53ef\u4ee5\u8bbf\u95ee\u3002\u4e5f\u5c31\u662f\u4efb\u4f55\u77e5\u9053\u5bc6\u7801\u7684\u4e3b\u673a\u90fd\u53ef\u4ee5\u8bbf\u95ee\u5230\u4f60\u7684redis\u3002\\r\\n3. \u5982\u679c\u4f60bind \u7ed1\u5b9a\u672c\u5730\u7f51\u5361\u6bd4\u5982 118.18.19.12 , name\u6d41\u91cf\u53ea\u80fd\u4ece\u8fd9\u4e2aip\u6765. \\r\\n\\r\\n```\\r\\n#####  \u8fd0\u7ef4\u5efa\u8bae:\\r\\n1.  \u51cc\u6668\u624b\u52a8\u6267\u884cbgrewriteaof \u6267\u884c, \u5907\u4efd\u5feb\u7167"},{"id":"install-zookeeper-cluster-lesson","metadata":{"permalink":"/devops/install-zookeeper-cluster-lesson","source":"@site/devops/2021-03-01-install-zookeeper-cluster-lesson.md","title":"Zookeeper\u96c6\u7fa4\u5b89\u88c5\u6559\u7a0b","description":"\u5b89\u88c5\u524d\u7f6e\u6761\u4ef6","date":"2021-03-01T00:00:00.000Z","formattedDate":"March 1, 2021","tags":[{"label":"zookeeper","permalink":"/devops/tags/zookeeper"}],"readingTime":2.97,"truncated":false,"authors":[{"name":"jeesk","title":"java engineer","url":"https://shanjiancaofu.com","imageURL":"https://shanjiancaofu.com/img/avtor.png","key":"jeesk"}],"frontMatter":{"slug":"install-zookeeper-cluster-lesson","title":"Zookeeper\u96c6\u7fa4\u5b89\u88c5\u6559\u7a0b","authors":["jeesk"],"tags":["zookeeper"]},"prevItem":{"title":"redis\u5728\u751f\u4ea7\u73af\u5883\u7684\u914d\u7f6e","permalink":"/devops/redis-production-config"},"nextItem":{"title":"Zookeeper\u4e00\u952e\u7fa4\u542f\u811a\u672c","permalink":"/devops/zookeeper-cluster-start-script"}},"content":">  \u5b89\u88c5\u524d\u7f6e\u6761\u4ef6\\n -  3\u53f0\u5b89\u88c5JDK 8 \u7684\u865a\u62df\u673a,\u5047\u8bbe\u5730\u5740\u5206\u522b\u662f192.168.17.81,192.168.17.82,192.168.17.83\\n\\nzookeeper \u53d1\u884c\u7248\u9875\u9762, \u6709\u8bb8\u591a\u7248\u672c\u7684\u53d1\u884c\u7248\u7684\u4e0b\u8f7d\u94fe\u63a5,\u53ef\u4ee5\u6839\u636e\u4e0d\u540c\u7684\u7248\u672c,\u4e0b\u8f7d\u4e0d\u540c\u7684\u94fe\u63a5\\n`https://zookeeper.apache.org/releases.html`\\n1.   $\\\\color{#FF0000}{\u4fee\u6539 hosts }$\\n```\\nvim /etc/hosts\\n\u52a0\u5165\u4e00\u4e0b\u5185\u5bb9\\n192.168.17.81 zk01\\n192.168.17.82 zk02\\n192.168.17.83 zk03\\n```\\n\u540e\u9762\u6211\u5c06\u4f7f\u7528zk01 \u4ee3\u66ff192.168.17.81 \\n2.   $\\\\color{#FF0000}{\u5728zk01\u673a\u5668\u4e0a\u9762\u4e0b\u8f7dzookeeper}$\\n```\\nmkdir -p /opt/soft/ && cd  /opt/soft\\nwget  https://www.apache.org/dyn/closer.lua/zookeeper/zookeeper-3.6.2/apache-zookeeper-3.6.2-bin.tar.gz\\n\u5982\u679c\u673a\u5668\u6ca1\u6709\u5b89\u88c5wget, \u90a3\u4e48\u6267\u884c\u4e0b\u9762\u547d\u4ee4\u5b89\u88c5\\nyum -y install wget\\n```\\n3.   $\\\\color{#FF0000}{\u5206\u53d1zoookeeper\u8f6f\u4ef6 \u5230\u53e6\u5916\u4e24\u53f0\u673a\u5668}$\\n```\\n1. \u9996\u5148\u5728\u53e6\u5916\u4e24\u53f0\u673a\u5668\u521b\u5efa\u76ee\u5f55\\nmkdir -p /opt/soft/ && cd  /opt/soft\\n2. \u5728zk01 \u7684/opt/soft \u7684\u76ee\u5f55\u4e0b\u6267\u884c\\nscp apache-zookeeper-3.6.2-bin.tar.gz root@zk02:/opt/soft/\\nscp apache-zookeeper-3.6.2-bin.tar.gz root@zk03:/opt/soft/\\n```\\n4.    $\\\\color{#FF0000}{\u89e3\u538b\u6587\u4ef6}$\\n       1.  \u57283\u53f0\u7684\u673a\u5668\u7684/opt/soft/ \u6587\u4ef6\u5939\u6267\u884c\u89e3\u538b\u547d\u4ee4\\n        `   tar -zxvf  apache-zookeeper-3.6.2-bin.tar.gz  `\\n        2. \u57283\u53f0\u7684\u673a\u5668\u7684/opt/soft/ \u7ee7\u7eed\u6267\u884c\u8f6f\u8fde\u63a5\\n        `ln -s /opt/soft/apache-zookeeper-3.6.2-bin  zookeeper`\\n        3.  \u521b\u5efa\u9700\u8981\u7684\u6570\u636e\u6587\u4ef6\u5939,\u548c\u65e5\u5fd7\u6587\u4ef6\u5939, \u5728\u540e\u9762\u7684\u914d\u7f6e\u6587\u4ef6\u4f7f\u7528\u9700\u8981\\n          `cd zookeeper && mkdir {data,log}`\\n5.    $\\\\color{#FF0000}{\u589e\u52a0\u914d\u7f6e\u6587\u4ef6}$\\n\u5728zk01\u4e0a \u7684`/opt/soft/zookeeper-3.5.2-alpha/conf`\u589e\u52a0 zoo.cfg\u6587\u4ef6,\u6587\u4ef6\u5185\u5bb9\u5982\u4e0b\\n     \\n  ```\\n    initLimit=10\\n    syncLimit=5\\n    clientPort=2181\\n    tickTime=2000\\n    dataDir=/opt/soft/apache-zookeeper-3.6.2-bin/data/\\n    dataLogDir=/opt/apache-zookeeper-3.6.2-bin/logs/\\n    dynamicConfigFile=/opt/soft/apache-zookeeper-3.6.2-bin/conf/zoo.cfg.dynamic.100000000\\n  ```\\n-  \u5728/opt/soft/zookeeper-3.5.2-alpha/conf \u589e\u52a0\u914d\u7f6ezoo.cfg.dynamic.100000000 \u6587\u4ef6, \u8fd9\u4e2a\u6587\u4ef6\u662f\u8bf4\u660ezk \u7684\u96c6\u7fa4\u673a\u5668\u7684ip\u5730\u5740,\u6587\u4ef6\u5185\u5bb9\u5982\u4e0b\\n```\\nserver.1=zk01:2888:3888:participant\\nserver.2=zk02:2888:3888:participant\\nserver.3=zk03:2888:3888:participant\\n```\\n-  \u5c06\u8fd9\u4e2a\u4e24\u4e2a\u6587\u4ef6\u5206\u53d1\u5230zk02,zk03,\u5728zk01 \u7684/opt/soft/zookeeper-3.5.2-alpha/conf/ \u6267\u884c\u547d\u4ee4\\n```\\nscp zoo.cfg root@zk02:/opt/soft/zookeeper-3.5.2-alpha/conf/\\nscp zoo.cfg root@zk02:/opt/soft/zookeeper-3.5.2-alpha/conf/\\nscp zoo.cfg.dynamic.100000000 root@zk03:/opt/soft/zookeeper-3.5.2-alpha/conf/\\nscp zoo.cfg.dynamic.100000000 root@zk03:/opt/soft/zookeeper-3.5.2-alpha/conf/\\n```\\n\\n6.    $\\\\color{#FF0000}{\u589e\u52a0\u6bcf\u4e00\u53f0\u673a\u5668\u7684\u6807\u8bc6 }$\\n\u57283\u53f0\u673a\u5668\u4e0a\u9762\u7684 `/opt/soft/zookeeper-3.5.2-alpha/conf/data` \u6267\u884c\u547d\u4ee4\\nzk01 \u6267\u884c  `echo 1 > myid`\\nzk02 \u6267\u884c  `echo 2 > myid`\\nzk03 \u6267\u884c  `echo 3 > myid`\\n\\n7.   $\\\\color{#FF0000}{\u5e38\u7528\u547d\u4ee4 }$\\n\\n\u57283 \u53f0\u673a\u5668\u7684 `/opt/soft/zookeeper-3.5.2-alpha/bin/ ` \u6267\u884c\\n-  \u542f\u52a8\u547d\u4ee4  ` ./zkServer.sh start  `\\n-  \u67e5\u770b\u542f\u52a8\u72b6\u6001 ` ./zkServer.sh status  `  \\n```\\nZooKeeper JMX enabled by default\\nUsing config: /opt/soft/zookeeper-3.5.2-alpha/bin/../conf/zoo.cfg\\nClient port found: 2181. Client address: localhost.\\nMode: follower\\n------------------- 192.168.17.82 -------------------\\nZooKeeper JMX enabled by default\\nUsing config: /opt/soft/zookeeper-3.5.2-alpha/bin/../conf/zoo.cfg\\nClient port found: 2181. Client address: localhost.\\nMode: leader\\n------------------- 192.168.17.83 -------------------\\nZooKeeper JMX enabled by default\\nUsing config: /opt/soft/zookeeper-3.5.2-alpha/bin/../conf/zoo.cfg\\nClient port found: 2181. Client address: localhost.\\nMode: followe\\n```\\n-  \u5173\u95ed\u547d\u4ee4: `./zkServer.sh status`\\n8.   $\\\\color{#FF0000}{\u5e38\u89c1\u95ee\u9898:}$\\n-  \u786e\u4fdd3\u53f0\u673a\u5668\u7684\u9632\u706b\u5899\u7aef\u53e32181 \u5df2\u7ecf\u653e\u5f00, \u5982\u679c\u662f\u672c\u5730\u73af\u5883\u5efa\u8bae\u76f4\u63a5`service fillwalld stop` \u5173\u95ed\u9632\u706b\u5899\\n-  3\u53f0\u673a\u5668\u5206\u522b\u6267\u884c\u592a\u9ebb\u70e6, \u53c2\u8003 zookeeper  [\u96c6\u7fa4\u811a\u672c](https://www.jianshu.com/p/f2d1e2cba91d) \\n> \u5b8c\u7ed3\u6492\u82b1, \u8def\u8fc7\u70b9\u8d5e, \u6708\u516510 W!"},{"id":"zookeeper-cluster-start-script","metadata":{"permalink":"/devops/zookeeper-cluster-start-script","source":"@site/devops/2021-01-09-zookeeper-cluster-start-script.md","title":"Zookeeper\u4e00\u952e\u7fa4\u542f\u811a\u672c","description":"\u4e3a\u4e86\u65b9\u4fbf\u7ba1\u7406zookeeper \u96c6\u7fa4, \u6211\u4eec\u5199\u4e86\u4e00\u4e2azookeeper \u811a\u672c","date":"2021-01-09T00:00:00.000Z","formattedDate":"January 9, 2021","tags":[{"label":"zookeeper","permalink":"/devops/tags/zookeeper"}],"readingTime":1.89,"truncated":false,"authors":[{"name":"jeesk","title":"java engineer","url":"https://shanjiancaofu.com","imageURL":"https://shanjiancaofu.com/img/avtor.png","key":"jeesk"}],"frontMatter":{"slug":"zookeeper-cluster-start-script","title":"Zookeeper\u4e00\u952e\u7fa4\u542f\u811a\u672c","authors":["jeesk"],"tags":["zookeeper"]},"prevItem":{"title":"Zookeeper\u96c6\u7fa4\u5b89\u88c5\u6559\u7a0b","permalink":"/devops/install-zookeeper-cluster-lesson"},"nextItem":{"title":"git \u5220\u9664\u8bef\u4e0a\u4f20\u7684.idea\u6587\u4ef6","permalink":"/devops/delete-git-file-on-idea"}},"content":">    \u4e3a\u4e86\u65b9\u4fbf\u7ba1\u7406zookeeper \u96c6\u7fa4, \u6211\u4eec\u5199\u4e86\u4e00\u4e2azookeeper \u811a\u672c\\n\\n1.  \u5728bin/zkEnv.sh\u6587\u4ef6\u4e2d,zk \u589e\u52a0JAVA_HOME .(\u6709\u4e9b\u65f6\u5019\u65e0\u6cd5\u627e\u5230JAVA_HOME,\u6240\u4ee5\u5148\u589e\u52a0JAVA_HOME)\\n  ```\\nZOOBINDIR=\\"${ZOOBINDIR:-/usr/bin}\\"\\nZOOKEEPER_PREFIX=\\"${ZOOBINDIR}/..\\"\\n#\u5728\u4e0a\u9762\u76842\u6bb5\u6587\u5b57\u4e0b\u9762\u589e\u52a0 JAVA_HOME, \u4e0b\u9762\u7684\u8def\u5f84\u662f\u4f60\u7684 jdk HOME\u76ee\u5f55\\nexport JAVA_HOME=/opt/soft/jdk1.8.0_161\\n```\\n2.  3 \u53f0\u673a\u5668\u514d\u5bc6\u767b\u5f55, \u5206\u522b\u4e3azk01,zk02,zk03\\n     \\n```\\n# zk01 \u6267\u884c \\nssh-copy-id root@zk02\\nssh-copy-id root@zk03\\n```\\n \\n```\\n#  zk02 \u6267\u884c \\nssh-copy-id root@zk01\\nssh-copy-id root@zk03\\n```\\n```\\n#  zk03 \u6267\u884c \\nssh-copy-id root@zk01\\nssh-copy-id root@zk02\\n```\\n\u8fd9\u4e2a\u65f6\u5019, \u4f60\u53ef\u4ee5\u4f7f\u7528 \u5728\u4efb\u610f\u4e00\u53f0\u673a\u5668\u4e0a\u9762\u6267\u884c\u514d\u5bc6\u767b\u5f55\\n3.  \u57282\u53f0\u673a\u5668\u4e0b\u9762\u7684 bin \u76ee\u5f55\u4e0b\u9762\u589e\u52a0  zkCluster.sh\\n```\\n\\n#!/bin/bash\\n\\nred=\'\\\\e[91m\'\\ngreen=\'\\\\e[92m\'\\nyellow=\'\\\\e[93m\'\\nmagenta=\'\\\\e[95m\'\\ncyan=\'\\\\e[96m\'\\nnone=\'\\\\e[0m\'\\n\\nzk_home=$zk_home\\ncluster_array=(192.168.17.81 192.168.17.82 192.168.17.83)\\n\\n# 1. \u83b7\u53d6\u8f93\u5165\u53c2\u6570\u4e2a\u6570\uff0c\u5982\u679c\u6ca1\u6709\u53c2\u6570\uff0c\u76f4\u63a5\u9000\u51fa\\nif (($# == 0)); then\\n    echo -e ------------------- ${yellow}no args${none} -------------------\\n    exit\\nfi\\n\\n# 2. \u6839\u636e\u6307\u4ee4\u5faa\u73af\u64cd\u4f5c\u96c6\u7fa4\\ncase $1 in\\n\\"start\\") {\\n    for host in ${cluster_array[@]}; do\\n        echo -e ------------------- $yellow$host$none -------------------\\n        ssh $host \\"$zk_home/bin/zkServer.sh start\\"\\n    done\\n} ;;\\n\\n\\"stop\\") {\\n    for host in ${cluster_array[@]}; do\\n        echo -e ------------------- $yellow$host$none -------------------\\n        ssh $host \\"$zk_home/bin/zkServer.sh stop\\"\\n    done\\n} ;;\\n\\n\\"status\\") {\\n    for host in ${cluster_array[@]}; do\\n        echo -e ------------------- $yellow$host$none -------------------\\n        ssh $host \\"$zk_home/bin/zkServer.sh status\\"\\n    done\\n} ;;\\n\\nesac\\n```\\n\u4e0a\u9762\u7684 cluster_array \u5c31\u662f\u4f60\u76843\u53f0\u673a\u5668ip ,\u4e5f\u53ef\u4ee5\u4f7f\u7528\u522b\u540d\u4ee3\u66ff\\n\u8fd9\u4e2a\u65f6\u5019, \u4f60\u53ef\u4ee5\u5728\u4efb\u610f\u4e00\u53f0\u673a\u5668\u7684zk bin\u76ee\u5f55\u4e0b\u9762\u6267\u884c\\n-  \u7fa4\u542f\u52a8: ./zkCluster.sh start \\n-  \u7fa4\u5173\u95ed: ./zkCluster.sh stop \\n-  \u7fa4\u67e5\u770b\u72b6\u6001: ./zkCluster.sh status \\n\u5982\u679c\u811a\u672c\u6ca1\u6709\u6267\u884c\u6743\u9650, \u589e\u52a0\u6267\u884c\u6743\u9650 `chmod u+x zkCluster.sh`  \u5373\u53ef.\\n\\n>  \u5b8c\u7ed3\u6492\u82b1, \u8def\u8fc7\u70b9\u8d5e, \u6708\u516510W !"},{"id":"delete-git-file-on-idea","metadata":{"permalink":"/devops/delete-git-file-on-idea","source":"@site/devops/2020-08-12-delete-git-file-on-idea.md","title":"git \u5220\u9664\u8bef\u4e0a\u4f20\u7684.idea\u6587\u4ef6","description":"\u95ee\u9898\uff1a","date":"2020-08-12T00:00:00.000Z","formattedDate":"August 12, 2020","tags":[{"label":"git","permalink":"/devops/tags/git"}],"readingTime":1.81,"truncated":false,"authors":[{"name":"jeesk","title":"java engineer","url":"https://shanjiancaofu.com","imageURL":"https://shanjiancaofu.com/img/avtor.png","key":"jeesk"}],"frontMatter":{"slug":"delete-git-file-on-idea","title":"git \u5220\u9664\u8bef\u4e0a\u4f20\u7684.idea\u6587\u4ef6","authors":["jeesk"],"tags":["git"]},"prevItem":{"title":"Zookeeper\u4e00\u952e\u7fa4\u542f\u811a\u672c","permalink":"/devops/zookeeper-cluster-start-script"},"nextItem":{"title":"kafka \u751f\u4ea7\u63a8\u8350\u914d\u7f6e","permalink":"/devops/kafka-production-config"}},"content":"\u95ee\u9898\uff1a\\r\\n\u63d0\u4ea4\u9879\u76ee\u7684\u65f6\u5019\u5fd8\u8bb0\u6dfb\u52a0.gitignore\u6587\u4ef6\uff0c\u8bef\u4e0a\u4f20\u4e86\u6587\u4ef6(\u5982.idea)\u5982\u4f55\u89e3\u51b3\uff1f(\u672c\u6587\u4ee5.idea\u6587\u4ef6\u5939\u4e3e\u4f8b)\\r\\n\\r\\n1.\u5c06\u9879\u76ee\u6587\u4ef6\u62c9\u53d6\u4e0b\u6765\\r\\ngit pull origin master\\r\\n\\r\\n2.\u6dfb\u52a0\u9700\u8981\u8fc7\u6ee4\u7684\u6587\u4ef6\\r\\na. \u5982\u679c\u4f60\u6709.gitignore\u6587\u4ef6\uff0c\u4f46\u662f\u6ca1\u6dfb\u52a0\u8bef\u4e0a\u4f20\u7684\u6587\u4ef6\u5939(\u5982.idea)\\r\\n\u65b0\u8d77\u4e00\u884c\u6dfb\u52a0  .idea/\\r\\nb. \u5982\u679c\u4f60\u6ca1\u6709.gitignore\u6587\u4ef6\uff0c\u5728\u4f60\u7684\u9879\u76ee\u91cc\u521b\u5efa\u4e00\u4e2a.gitignore\u7684\u6587\u4ef6\\r\\n\u5c06\u4e0b\u9762\u7684\u6587\u672c\u653e\u5165\u5373\u53ef\\r\\n\u901a\u7528.gitignore\u6587\u4ef6\\r\\n```\\r\\n\\r\\n# Initially taken from Github\'s Python gitignore file\\r\\n\\r\\n# Byte-compiled / optimized / DLL files\\r\\n__pycache__/\\r\\n*.py[cod]\\r\\n*$py.class\\r\\n__pycache__\\r\\n# C extensions\\r\\n*.so\\r\\n.DS_Store\\r\\n.idea/\\r\\n# Distribution / packaging\\r\\n.Python\\r\\nbuild/\\r\\ndevelop-eggs/\\r\\ndist/\\r\\ndownloads/\\r\\neggs/\\r\\n.eggs/\\r\\nlib/\\r\\nlib64/\\r\\nparts/\\r\\nsdist/\\r\\nvar/\\r\\nwheels/\\r\\n*.egg-info/\\r\\n.installed.cfg\\r\\n*.egg\\r\\nMANIFEST\\r\\n\\r\\n# PyInstaller\\r\\n#  Usually these files are written by a python script from a template\\r\\n#  before PyInstaller builds the exe, so as to inject date/other infos into it.\\r\\n*.manifest\\r\\n*.spec\\r\\n\\r\\n# Installer logs\\r\\npip-log.txt\\r\\npip-delete-this-directory.txt\\r\\n\\r\\n# Unit test / coverage reports\\r\\nhtmlcov/\\r\\n.tox/\\r\\n.nox/\\r\\n.coverage\\r\\n.coverage.*\\r\\n.cache\\r\\nnosetests.xml\\r\\ncoverage.xml\\r\\n*.cover\\r\\n.hypothesis/\\r\\n.pytest_cache/\\r\\n\\r\\n# Translations\\r\\n*.mo\\r\\n*.pot\\r\\n\\r\\n# Django stuff:\\r\\n*.log\\r\\nlocal_settings.py\\r\\ndb.sqlite3\\r\\n\\r\\n# Flask stuff:\\r\\ninstance/\\r\\n.webassets-cache\\r\\n\\r\\n# Scrapy stuff:\\r\\n.scrapy\\r\\n\\r\\n# Sphinx documentation\\r\\ndocs/_build/\\r\\n\\r\\n# PyBuilder\\r\\ntarget/\\r\\n\\r\\n# Jupyter Notebook\\r\\n.ipynb_checkpoints\\r\\n\\r\\n# IPython\\r\\nprofile_default/\\r\\nipython_config.py\\r\\n\\r\\n# pyenv\\r\\n.python-version\\r\\n\\r\\n# celery beat schedule file\\r\\ncelerybeat-schedule\\r\\n\\r\\n# SageMath parsed files\\r\\n*.sage.py\\r\\n\\r\\n# Environments\\r\\n.env\\r\\n.venv\\r\\nenv/\\r\\nvenv/\\r\\nENV/\\r\\nenv.bak/\\r\\nvenv.bak/\\r\\n\\r\\n# Spyder project settings\\r\\n.spyderproject\\r\\n.spyproject\\r\\n\\r\\n# Rope project settings\\r\\n.ropeproject\\r\\n\\r\\n# mkdocs documentation\\r\\n/site\\r\\n\\r\\n# mypy\\r\\n.mypy_cache/\\r\\n.dmypy.json\\r\\ndmypy.json\\r\\n\\r\\n# Pyre type checker\\r\\n.pyre/\\r\\n\\r\\ndata/\\r\\nmodel/\\r\\n\\r\\n```\\r\\n3.\u6253\u5f00\u9879\u76ee\u7ec8\u7aef\u6267\u884c\u547d\u4ee4\\r\\n# \u5220\u9664github\u4e0a\u7684\u8bef\u4e0a\u4f20\u6587\u4ef6.idea\\r\\ngit rm -rf --cached .idea\\r\\n\\r\\n4.\u63d0\u4ea4.gitignore\u6587\u4ef6\\r\\ngit add .gitignore\\r\\n5.\u4e0a\u4f20\\r\\ngit commit -m \'\u5ffd\u7565idea\'\\r\\ngit push -u origin master"},{"id":"kafka-production-config","metadata":{"permalink":"/devops/kafka-production-config","source":"@site/devops/2020-06-12-kakfa-production-config.md","title":"kafka \u751f\u4ea7\u63a8\u8350\u914d\u7f6e","description":"Broker","date":"2020-06-12T00:00:00.000Z","formattedDate":"June 12, 2020","tags":[{"label":"kafka","permalink":"/devops/tags/kafka"}],"readingTime":0.935,"truncated":false,"authors":[{"name":"jeesk","title":"java engineer","url":"https://shanjiancaofu.com","imageURL":"https://shanjiancaofu.com/img/avtor.png","key":"jeesk"}],"frontMatter":{"slug":"kafka-production-config","title":"kafka \u751f\u4ea7\u63a8\u8350\u914d\u7f6e","authors":["jeesk"],"tags":["kafka"]},"prevItem":{"title":"git \u5220\u9664\u8bef\u4e0a\u4f20\u7684.idea\u6587\u4ef6","permalink":"/devops/delete-git-file-on-idea"},"nextItem":{"title":"git\u63d0\u4f9b\u89c4\u8303\uff08\u53c2\u8003deepin \u548cjenkins)","permalink":"/devops/git-commit-standard"}},"content":"Broker\\r\\n```shell\\r\\ndelete.topic.enable=true                #\u5141\u8bb8\u5220\u9664topic\\r\\nnum.replica.fetchers=2                  # kakfa\u7684\u7ebf\u7a0b\u6570\u91cf\u914d\u7f6e\\r\\noffsets.topic.replication.factor=2      # offset\u7684\u526f\u672c\uff0c\u9632\u6b62\u4e22\u5931\\r\\nnum.partitions=8                        # \u5206\u533a\u6570\u91cf\\r\\nauto.create.topics.enable=true          # \u5f00\u542f\u81ea\u52a8\u63d0\u4ea4\\r\\ndefault.replication.factor=2            # \u9ed8\u8ba4\u526f\u672c\u6570\u91cf\\r\\n\\r\\nlog.retention.hours=48                  # \u65e5\u5fd7\u4fdd\u75592\u5929\\r\\nmin.insync.replicas=2                   # \u6700\u5c11\u540c\u6b65\u526f\u672c\\r\\n```\\r\\n\\r\\nProducer\\r\\n\u5728Spring boot\u4e2d\u7684\u914d\u7f6e\\r\\n```shell\\r\\nspring:\\r\\n  kafka:\\r\\n    bootstrap-servers: 192.168.31.31:9092\\r\\n    producer:\\r\\n      # \u91cd\u8bd5\u6b21\u6570\\r\\n      retries: 0\\r\\n      # \u5e94\u7b54\u7ea7\u522b:\u591a\u5c11\u4e2a\u5206\u533a\u526f\u672c\u5907\u4efd\u5b8c\u6210\u65f6\u5411\u751f\u4ea7\u8005\u53d1\u9001ack\u786e\u8ba4(\u53ef\u90090\u30011\u3001all/-1)\\r\\n      # \u8fd9\u91cc\u4f7f\u75280 \u662f\u6298\u4e2d\u7684\u8003\u8651\\r\\n      acks: \\"0\\"\\r\\n      # \u6279\u91cf\u5927\u5c0f\\r\\n      batch-size: 16384\\r\\n      properties:\\r\\n        # \u5f00\u542f\u5e42\u7b49\u6027, \u540eack \u4e3aall, \u8fd9\u4e2a\u6027\u80fd\u4f1a\u964d\u4f4e.,\\r\\n        enable.idempotence: false\\r\\n        linger.ms: 50\\r\\n        partitioner.class: org.apache.kafka.clients.producer.RoundRobinPartitioner\\r\\n      buffer-memory: 33554432\\r\\n      key-serializer: \\"org.apache.kafka.common.serialization.StringSerializer\\"\\r\\n      value-serializer: \\"org.apache.kafka.common.serialization.StringSerializer\\"\\r\\n      #  \u4e8b\u52a1\u573a\u666f\u5f00\u542f\u4e8b\u52a1 , \u5426\u5219\u4f1a\u62a5\u9519\\r\\n      # transaction-id-prefix: \\"kt\\"\\r\\n      client-id: ${spring.application.name}\\r\\n```"},{"id":"git-commit-standard","metadata":{"permalink":"/devops/git-commit-standard","source":"@site/devops/2020-05-16-git-commit-standard.md","title":"git\u63d0\u4f9b\u89c4\u8303\uff08\u53c2\u8003deepin \u548cjenkins)","description":"\u5728\u65e5\u5e38\u5f00\u53d1\u4e2d\uff0c\u5f00\u53d1\u5728\u4f7f\u7528git\u7684\u65f6\u5019\u8bf7\u53c2\u8003\u4ee5\u4e0b\u89c4\u8303\uff0c\u80fd\u591f\u63d0\u9ad8\u9879\u76ee\u7684\u641c\u7d22git log\u7684\u6548\u7387\uff0c\u4ee5\u4e0b\u4ec5\u4f9b\u53c2\u8003\u3002","date":"2020-05-16T00:00:00.000Z","formattedDate":"May 16, 2020","tags":[{"label":"git","permalink":"/devops/tags/git"}],"readingTime":0.675,"truncated":false,"authors":[{"name":"jeesk","title":"java engineer","url":"https://shanjiancaofu.com","imageURL":"https://shanjiancaofu.com/img/avtor.png","key":"jeesk"}],"frontMatter":{"slug":"git-commit-standard","title":"git\u63d0\u4f9b\u89c4\u8303\uff08\u53c2\u8003deepin \u548cjenkins)","authors":["jeesk"],"tags":["git"]},"prevItem":{"title":"kafka \u751f\u4ea7\u63a8\u8350\u914d\u7f6e","permalink":"/devops/kafka-production-config"},"nextItem":{"title":"\u5f00\u53d1\u5fc5\u987b\u638c\u63e1\u7684git\u4f7f\u7528\u573a\u666f","permalink":"/devops/use-git"}},"content":"\u5728\u65e5\u5e38\u5f00\u53d1\u4e2d\uff0c\u5f00\u53d1\u5728\u4f7f\u7528git\u7684\u65f6\u5019\u8bf7\u53c2\u8003\u4ee5\u4e0b\u89c4\u8303\uff0c\u80fd\u591f\u63d0\u9ad8\u9879\u76ee\u7684\u641c\u7d22git log\u7684\u6548\u7387\uff0c\u4ee5\u4e0b\u4ec5\u4f9b\u53c2\u8003\u3002\\r\\n\\r\\n1. Git commit -m \\"\u4f7f\u7528\u7684\u8bcd\u8bed\\"\\r\\n\\r\\n\u4fee\u590d\\r\\n\u53d1\u5e03\\r\\n\u66f4\u6539\\r\\n\u53bb\u6389\\r\\n\u52a0\\r\\n\u5b9e\u884c\\r\\n\u542f\u7528\\r\\n\u63d0\u9ad8\\r\\n\u91cd\u6784\\r\\n\u66f4\u65b0\\r\\n\u4f7f\\r\\n\u964d\u4f4e\\r\\n\\r\\n\u4f7f\u7528 \u76f4\u63a5\u4f7f\u7528 git commit \u5728gun nano \u91cc\u9762\u7f16\u8f91\\r\\n\\r\\n\\r\\n2.\\r\\n\u91cd\u590d\u4f7f\u7528\u4e0a\u4e00\u6b21\u7684commit,\u65b0\u589e\u52a0commit\\r\\necho \\"I love git\\" && git commit --allow-empty --amend\\r\\n\\r\\n\u589e\u52a0\u63d0\u4ea4,\u4f46\u662f\u4e0d\u63d0\u4ea4\u4efb\u4f55\u4fe1\u606f\\r\\necho \\"I am a git\\" && git commit --allow-empty-message --no-edit"},{"id":"use-git","metadata":{"permalink":"/devops/use-git","source":"@site/devops/2020-03-03-use-git.md","title":"\u5f00\u53d1\u5fc5\u987b\u638c\u63e1\u7684git\u4f7f\u7528\u573a\u666f","description":"\u5e38\u7528\u573a\u666f:","date":"2020-03-03T00:00:00.000Z","formattedDate":"March 3, 2020","tags":[{"label":"git","permalink":"/devops/tags/git"}],"readingTime":12.775,"truncated":false,"authors":[{"name":"jeesk","title":"java engineer","url":"https://shanjiancaofu.com","imageURL":"https://shanjiancaofu.com/img/avtor.png","key":"jeesk"}],"frontMatter":{"slug":"use-git","title":"\u5f00\u53d1\u5fc5\u987b\u638c\u63e1\u7684git\u4f7f\u7528\u573a\u666f","authors":["jeesk"],"tags":["git"]},"prevItem":{"title":"git\u63d0\u4f9b\u89c4\u8303\uff08\u53c2\u8003deepin \u548cjenkins)","permalink":"/devops/git-commit-standard"},"nextItem":{"title":"linux\u538b\u6d4b\u914d\u7f6e\u4f18\u5316","permalink":"/devops/linux-opt"}},"content":"##\\t\u5e38\u7528\u573a\u666f:\\r\\n\\r\\n> \\t\u60f3\u60f3\u4e0b\u5217\u5de5\u4f5c\u573a\u666f\u65f6\u5019\u662f\u4f60\u7ecf\u5e38\u9047\u89c1\u7684? \\r\\n\\r\\n1. **\u6211\u4eec\u53ef\u80fd\u4e3a\u4e86\u4fdd\u6301\u5de5\u4f5c\u7a7a\u95f4clean, \u4f1acommit\u591a\u6b21,\u4f46\u662f\u5f88\u591a\u65f6\u5019commit\u7684\u5185\u5bb9\u662f\u6ca1\u6709\u4ec0\u4e48\u610f\u4e49\u7684. \u8fd9\u4e2a\u65f6\u5019\u6211\u4eec\u9700\u8981\u5408\u5e76commit.**\\r\\n\\r\\n2. **\u9886\u5bfc\u53eb\u6211\u53bb\u53e6\u5916\u4e00\u4e2a\u5206\u652f\u53bb\u4fee\u6539\u5185\u5bb9, \u6211\u8981\u4fdd\u5b58\u5f53\u524d\u7684\u5206\u652f\u7684\u5185\u5bb9.**\\r\\n\\r\\n3. **\u524d\u51e0\u6b21\u63d0\u4ea4\u7684commit\u8fd8\u6ca1push, \u6211\u60f3\u56de\u6eda.**\\r\\n\\r\\n4. **\u6709\u4e9b\u6587\u4ef6\u6211\u4e0d\u60f3\u63d0\u4ea4\u5230git\u4ed3\u5e93**\\r\\n\\r\\n\\r\\n\\r\\n##\\t\u5408\u5e76\u6216\u8005\u4fee\u6539coomit\\r\\n\\r\\n\u6709\u7684\u65f6\u5019\u6211\u4eec\u63d0\u4ea4commit \u7684\u5907\u6ce8\u7684\u65f6\u5019\u53ef\u80fd\u6ca1\u6709\u5199\u5907\u6ce8,\u6216\u8005\u662f\u5907\u6ce8\u5199\u9519\u4e86,\u8fd9\u4e2a\u65f6\u5019\u6211\u4eec\u9700\u8981\u4fee\u6539commit, \u8fd9\u4e2a\u65f6\u5019--amend \u8ba1\u7b97\u975e\u5e38\u6709\u7528\u4e86. \u65e0\u8bba\u662f\u5426\u63d0\u4ea4\u5230\u8fdc\u7aef\u670d\u52a1\u5668 git commit --amend \u90fd\u53ef\u4ee5\u4fee\u6539\u6700\u8fd1\u4e00\u6b21\u7684\u63d0\u4ea4.\\r\\n\\r\\n1. \u4fee\u6539commit\u5185\u5bb9\\r\\n\\r\\n```bash\\r\\n\u4e00\u3001\u5982\u679c\u5df2\u7ecfpush\u5230\u8fdc\u7aef\u670d\u52a1\u5668\uff0c\u60f3\u4fee\u6539\u5df2\u7ecf\u63d0\u4ea4\u8fc7\u7684commit\u4fe1\u606f  \\r\\n1.\u4fdd\u5b58:Ctrl + o; \u56de\u8f66 ;\u9000\u51fa:Ctrl + x   \\r\\n# git commit --amend  \\r\\n2.\u91cd\u65b0\u63d0\u4ea4gerrit\u5ba1\u6279  \\r\\n# git push --no-thin origin HEAD:refs/for/master  \\r\\n\\r\\n\u4e8c\u3001\u5982\u679c\u5df2\u7ecfpush\u5230\u8fdc\u7aef\u670d\u52a1\u5668,\u6709\u6f0f\u6389\u7684test.txt\u6587\u4ef6\u60f3\u63d0\u4ea4\u5230\u4e0a\u4e00\u6b21\u7684commit\u4fe1\u606f  \\r\\n1.\u6dfb\u52a0test.txt  \\r\\n# git add test.txt  \\r\\n2.\u4fee\u6539commit\u4fe1\u606f;\u4fdd\u5b58:Ctrl + o; \u56de\u8f66 ;\u9000\u51fa:Ctrl + x   \\r\\n# git commit --amend  \\r\\n3.\u91cd\u65b0push\u5230\u8fdc\u7aef\u670d\u52a1\u5668  \\r\\n# git push --no-thin origin HEAD:refs/for/master \\r\\n```\\r\\n\\r\\n2. \u5408\u5e76commit\\r\\n\\r\\n>  \u7531\u4e8e\u6211\u4eec\u53ef\u80fd\u4e3a\u4e86\u4fdd\u6301\u5de5\u4f5c\u7a7a\u95f4clean, \u4f1acommit\u591a\u6b21,\u4f46\u662f\u5f88\u591a\u65f6\u5019commit\u7684\u5185\u5bb9\u662f\u6ca1\u6709\u4ec0\u4e48\u610f\u4e49\u7684. \u8fd9\u4e2a\u65f6\u5019\u6211\u4eec\u9700\u8981\u5408\u5e76commit.\\r\\n>\\r\\n>  \u88ab\u5408\u5e76\u8fc7\u7684commit \u662f\u4e0d\u80fd\u518d\u6b21\u88ab\u5408\u5e76\u7684I\\r\\n\\r\\n```\\r\\nHEAD~ \u540e\u9762\u8868\u793a\u6700\u8fd1\u591a\u5c11\u6b21\u63d0\u4ea4\\r\\ngit rebase -i HEAD~3   \\r\\n```\\r\\n\\r\\n```bash\\r\\npick d6d290e 123123\\r\\npick 5c7ee5a 12321\\r\\npick 2e4ed64 12321\\r\\n```\\r\\n\\r\\n\u7b80\u5355\u7684\u89e3\u91ca\u4e00\u4e0b:\\r\\n\\r\\n\u524d\u9762\u4e09\u884c\u662f\u6211\u4eec\u9700\u8981\u64cd\u4f5c\u7684\u4e09\u4e2a Commit\uff0c\u6bcf\u884c\u6700\u524d\u9762\u7684\u662f\u5bf9\u8be5 Commit \u64cd\u4f5c\u7684 Command\u3002\u5173\u4e8e\u6bcf\u4e2a Command \u5177\u4f53\u505a\u4ec0\u4e48\uff0c\u4e0b\u9762\u7684\u6ce8\u91ca\u5199\u5f97\u975e\u5e38\u6e05\u695a\u3002\u4e3a\u4e86\u5b8c\u6210\u6211\u4eec\u7684\u9700\u6c42\uff0c\u6211\u4eec\u53ef\u4ee5\u5173\u6ce8\u5230\u8fd9\u4e24\u4e2a\u547d\u4ee4\uff1a\\r\\n\\r\\n```\\r\\n1. s, squash = use commit, but meld into previous commit\\r\\n\\r\\n2. f, fixup = like \\"squash\\", but discard this commit\'s log message\\r\\n\\r\\n   \u7ffb\u8bd1:\\r\\n\\r\\n- squash\uff1a\u4f7f\u7528\u8be5 Commit\uff0c\u4f46\u4f1a\u88ab\u5408\u5e76\u5230\u524d\u4e00\u4e2a Commit \u5f53\u4e2d\\r\\n- fixup\uff1a\u5c31\u50cf squash \u90a3\u6837\uff0c\u4f46\u4f1a\u629b\u5f03\u8fd9\u4e2a Commit \u7684 Commit message\\r\\n```\\r\\n\\r\\n\\r\\n\\r\\n\u770b\u6837\u5b50\u4e24\u4e2a\u547d\u4ee4\u90fd\u53ef\u4ee5\u5b8c\u6210\u6211\u4eec\u7684\u9700\u6c42\uff0c\u90a3\u4e48\u8ba9\u6211\u4eec\u5148\u8bd5\u4e00\u4e0b squash\uff01\u7531\u4e8e\u6211\u4eec\u662f\u60f3\u628a\u4e09\u4e2a Commit \u90fd\u5408\u5e76\u5728\u4e00\u8d77\uff0c\u5e76\u4e14\u4f7f Commit Message \u5199\u6210 Commit-1\uff0c\u6240\u4ee5\u6211\u4eec\u9700\u8981\u628a 5c7ee5a(12321) \u548c 2e4ed64(12321) \u524d\u9762\u7684 pick \u90fd\u6539\u4e3asquash\uff0c\u4e8e\u662f\u5b83\u770b\u8d77\u6765\u50cf\u8fd9\u6837\uff1a\\r\\n\\r\\n```bash\\r\\npick d6d290e 123123\\r\\npick 5c7ee5a 12321\\r\\npick 2e4ed64 12321\\r\\n#\u5f53\u7136\uff0c\u56e0\u4e3a\u6211\u5f88\u61d2\uff0c\u6240\u4ee5\u901a\u5e38\u6211\u4f1a\u4f7f\u7528\u5b83\u7684\u7f29\u5199\uff1a\\r\\npick d6d290e 123123\\r\\ns 5c7ee5a 12321\\r\\ns 2e4ed64 12321\\r\\n\\r\\n\u7136\u540e\u6267\u884c :wx ,\u4fdd\u5b58. git\u53c8\u4f1a\u6253\u5f00\u5408\u5e76\u5907\u6ce8\u7684vim\u64cd\u4f5c\\r\\n```\\r\\n\\r\\n```bash\\r\\n# This is a combination of 3 commits.\\r\\n# This is the 1st commit message:\\r\\n\\r\\n123123\\r\\n\\r\\n# This is the commit message #2:\\r\\n\\r\\n12321\\r\\n#### \u540e\u9762\u7684\u5185\u5bb9\u5df2\u7ecf\u7701\u7565\\r\\n```\\r\\n\\r\\n\u8fd9\u4e2a\u65f6\u5019\u6211\u4eec\u5c31\u53ef\u4ee5\u4fee\u6539\u4e0a\u9762\u7684\u5907\u6ce8, \u7136\u540e\u6267\u884c : wx.\\r\\n\\r\\n\u7136\u540e\u67e5\u770b\u63d0\u4ea4\u8bb0\u5f55:\\r\\n\\r\\n```bash\\r\\ngit log\\r\\n```\\r\\n\\r\\n\u5c31\u4f1a\u53d1\u73b0\u63d0\u4ea4\u8bb0\u5f55\u5df2\u7ecf\u88ab\u5408\u5e76\u4e86.\\r\\n\\r\\n##\\t\u4fdd\u5b58\u5de5\u4f5c\u7a7a\u95f4\u73b0\u573a\\r\\n\\r\\n> \\t\u5728\u5f00\u53d1\u4e2d\uff0c\u4f1a\u7ecf\u5e38\u78b0\u5230bug\u95ee\u9898\uff0c\u90a3\u4e48\u6709\u4e86bug\u5c31\u9700\u8981\u4fee\u590d\uff0c\u5728Git\u4e2d\uff0c\u5206\u652f\u662f\u5f88\u5f3a\u5927\u7684\uff0c\u6bcf\u4e2abug\u90fd\u53ef\u4ee5\u901a\u8fc7\u4e00\u4e2a\u4e34\u65f6\u5206\u652f\u6765\u4fee\u590d\uff0c\u4fee\u590d\u5b8c\u6210\u540e\uff0c\u5408\u5e76\u5206\u652f\uff0c\u7136\u540e\u5c06\u4e34\u65f6\u7684\u5206\u652f\u5220\u9664\u6389\u3002\\r\\n>\\r\\n> \u6bd4\u5982\u6211\u5728\u5f00\u53d1\u4e2d\u63a5\u5230\u4e00\u4e2abug\u65f6\u5019\uff0c\u6211\u4eec\u53ef\u4ee5\u521b\u5efa\u4e00\u4e2abug1\u5206\u652f\u6765\u4fee\u590d\u5b83\uff0c\u4f46\u662f\uff0c\u5f53\u524d\u7684dev\u5206\u652f\u4e0a\u7684\u5de5\u4f5c\u8fd8\u6ca1\u6709\u63d0\u4ea4\u3002\u6bd4\u5982\u5982\u4e0b\uff1a\\r\\n>\\r\\n> \u5e76\u4e0d\u662f\u6211\u4e0d\u60f3\u63d0\u4ea4\uff0c\u800c\u662f\u5de5\u4f5c\u8fdb\u884c\u5230\u4e00\u534a\u65f6\u5019\uff0c\u6211\u4eec\u8fd8\u65e0\u6cd5\u63d0\u4ea4\uff0c\u6bd4\u5982\u6211\u8fd9\u4e2a\u5206\u652fbug\u89812\u5929\u5b8c\u6210\uff0c\u4f46\u662f\u6211bug1\u9700\u89815\u4e2a\u5c0f\u65f6\u5185\u5b8c\u6210(\u5206\u652f\u662f\u53ef\u4ee5\u63d0\u4ea4\u7684,\u4e0d\u8fc7\u589e\u52a0\u4e86\u591a\u4f59\u7684commit\u4fe1\u606f, \u8fd9\u65f6\u5019\u5c31\u53ef\u4ee5\u4f7f\u7528stash \u547d\u4ee4)\u3002\u600e\u4e48\u529e\u5462\uff1f\u8fd8\u597d\uff0cGit\u8fd8\u63d0\u4f9b\u4e86\u4e00\u4e2astash\u529f\u80fd\uff0c\u53ef\u4ee5\u628a\u5f53\u524d\u5de5\u4f5c\u73b0\u573a \u201d\u9690\u85cf\u8d77\u6765\u201d\uff0c\u7b49\u4ee5\u540e\u6062\u590d\u73b0\u573a\u540e\u7ee7\u7eed\u5de5\u4f5c\u3002\u5982\u4e0b\uff1a\\r\\n\\r\\n```\\r\\ngit stash apply    \u6062\u590d\uff0c\u6062\u590d\u540e\uff0cstash\u5185\u5bb9\u5e76\u4e0d\u5220\u9664\uff0c\u4f60\u9700\u8981\u4f7f\u7528\u547d\u4ee4git stash drop\u6765\u5220\u9664\u3002\\r\\n\u53e6\u4e00\u79cd\u65b9\u5f0f\u662f\u4f7f\u7528git stash pop,\u6062\u590d\u7684\u540c\u65f6\u628astash\u5185\u5bb9\u4e5f\u5220\u9664\u4e86\u3002\\r\\n\\r\\n\u9700\u6ce8\u610f\u4e0a\u9762\u90a3\u53e5\u8bdd\u6240\u5bf9\u4f5c\u7528\u8303\u56f4\u7684\u5b9a\u4e49\uff0c\u5982\u679c\u4f60\u7684\u6587\u4ef6\u6ca1add\uff0c\u5373\u6ca1\u6709\u201c\u88ab\u8ddf\u8e2a\u201d\u548c\u201c\u6682\u5b58\u201d\uff0cstash\u662f\u4e0d\u4f1a\u5e2e\u4f60\u4fdd\u5b58\u7684\u3002\\r\\n\uff081\uff09git stash save \\"save message\\"  : \u6267\u884c\u5b58\u50a8\u65f6\uff0c\u6dfb\u52a0\u5907\u6ce8\uff0c\u65b9\u4fbf\u67e5\u627e\uff0c\u53ea\u6709git stash \u4e5f\u8981\u53ef\u4ee5\u7684\uff0c\u4f46\u67e5\u627e\u65f6\u4e0d\u65b9\u4fbf\u8bc6\u522b\u3002\\r\\n\\r\\n\uff082\uff09git stash list  \uff1a\u67e5\u770bstash\u4e86\u54ea\u4e9b\u5b58\u50a8\\r\\n\\r\\n\uff083\uff09git stash show \uff1a\u663e\u793a\u505a\u4e86\u54ea\u4e9b\u6539\u52a8\uff0c\u9ed8\u8ba4show\u7b2c\u4e00\u4e2a\u5b58\u50a8,\u5982\u679c\u8981\u663e\u793a\u5176\u4ed6\u5b58\u8d2e\uff0c\u540e\u9762\u52a0stash@{$num}\uff0c\u6bd4\u5982\u7b2c\u4e8c\u4e2a git stash show stash@{1}\\r\\n\\r\\n\uff084\uff09git stash show -p : \u663e\u793a\u7b2c\u4e00\u4e2a\u5b58\u50a8\u7684\u6539\u52a8\uff0c\u5982\u679c\u60f3\u663e\u793a\u5176\u4ed6\u5b58\u5b58\u50a8\uff0c\u547d\u4ee4\uff1agit stash show  stash@{$num}  -p \uff0c\u6bd4\u5982\u7b2c\u4e8c\u4e2a\uff1agit stash show  stash@{1}  -p\\r\\n\\r\\n\uff085\uff09git stash apply :\u5e94\u7528\u67d0\u4e2a\u5b58\u50a8,\u4f46\u4e0d\u4f1a\u628a\u5b58\u50a8\u4ece\u5b58\u50a8\u5217\u8868\u4e2d\u5220\u9664\uff0c\u9ed8\u8ba4\u4f7f\u7528\u7b2c\u4e00\u4e2a\u5b58\u50a8,\u5373stash@{0}\uff0c\u5982\u679c\u8981\u4f7f\u7528\u5176\u4ed6\u4e2a\uff0cgit stash apply stash@{$num} \uff0c \u6bd4\u5982\u7b2c\u4e8c\u4e2a\uff1agit stash apply stash@{1} \\r\\n\\r\\n\uff086\uff09git stash pop \uff1a\u547d\u4ee4\u6062\u590d\u4e4b\u524d\u7f13\u5b58\u7684\u5de5\u4f5c\u76ee\u5f55\uff0c\u5c06\u7f13\u5b58\u5806\u6808\u4e2d\u7684\u5bf9\u5e94stash\u5220\u9664\uff0c\u5e76\u5c06\u5bf9\u5e94\u4fee\u6539\u5e94\u7528\u5230\u5f53\u524d\u7684\u5de5\u4f5c\u76ee\u5f55\u4e0b,\u9ed8\u8ba4\u4e3a\u7b2c\u4e00\u4e2astash,\u5373stash@{0}\uff0c\u5982\u679c\u8981\u5e94\u7528\u5e76\u5220\u9664\u5176\u4ed6stash\uff0c\u547d\u4ee4\uff1agit stash pop stash@{$num} \uff0c\u6bd4\u5982\u5e94\u7528\u5e76\u5220\u9664\u7b2c\u4e8c\u4e2a\uff1agit stash pop stash@{1}\\r\\n\\r\\n\uff087\uff09git stash drop stash@{$num} \uff1a\u4e22\u5f03stash@{$num}\u5b58\u50a8\uff0c\u4ece\u5217\u8868\u4e2d\u5220\u9664\u8fd9\u4e2a\u5b58\u50a8\\r\\n\\r\\n\uff088\uff09git stash clear \uff1a\u5220\u9664\u6240\u6709\u7f13\u5b58\u7684stash\\r\\n```\\r\\n\\r\\n##\\t\u56de\u6eda\u6216\u8005\u4e22\u5931\u4e0d\u60f3\u8981\u7684\u5185\u5bb9\\r\\n\\r\\n> \u7528Git\u7684\u65f6\u5019commit\u63d0\u4ea4\u4ee3\u7801\u540e\uff0c\u53d1\u73b0\u8fd9\u4e00\u6b21commit\u7684\u5185\u5bb9\u662f\u6709\u9519\u8bef\u7684\uff0c\u6216\u8005\u4e0d\u60f3\u63d0\u4ea4\u4e86,\u90a3\u4e48\u6709\u4e24\u79cd\u5904\u7406\u65b9\u6cd5\uff1a\\r\\n>\\r\\n>  1\u3001\u4fee\u6539\u9519\u8bef\u5185\u5bb9\uff0c\u518d\u6b21commit\u4e00\u6b21\\r\\n>\\r\\n> 2\u3001\u4f7f\u7528**git reset** \u547d\u4ee4\u64a4\u9500\u8fd9\u4e00\u6b21\u9519\u8bef\u7684commit \u7b2c\u4e00\u79cd\u65b9\u6cd5\u6bd4\u8f83\u76f4\u63a5\uff0c\u4f46\u4f1a\u591a\u6b21\u4e00\u6b21commit\u8bb0\u5f55\u3002 \u6211\u4e2a\u4eba\u8ba4\u4e3a \u7b2c\u4e8c\u79cd\u66f4\u52a0\u597d\u70b9, \u9519\u8bef\u7684commit\u5c31\u6ca1\u6709\u5fc5\u8981\u63d0\u4ea4\u4e86.\\r\\n\\r\\n1. \u5982\u679c\u4f60\u53ea\u662f\u60f3\u64a4\u9500 commit, \u4f46\u662f\u4fdd\u7559 add. (\u6b64\u65f6\u6587\u4ef6\u7684\u53d8\u52a8\u4e5f\u4f1a\u88ab\u4fdd\u7559)\\r\\n\\r\\n```\\r\\ngit reset --soft HEAD^\\r\\n```\\r\\n\\r\\n\u6ce8\u610f\u4e86: HEAD^ \u4e0a\u4e2a\u7248\u672c,HEAD~2 \u4e0a\u4e0a\u4e2a\u7248\u672cmiced commitId\\r\\n\\r\\n2. \u5220\u9664\u5de5\u4f5c\u7a7a\u95f4\u6539\u52a8\u4ee3\u7801\uff0c\u64a4\u9500commit\uff0c\u64a4\u9500git add\\r\\n\\r\\n```\\r\\ngit reset --hard HEAD^\\r\\n```\\r\\n\\r\\n3. \u4e0d\u5220\u9664\u5de5\u4f5c\u7a7a\u95f4\u6539\u52a8\u4ee3\u7801\uff0c\u64a4\u9500commit\uff0c\u5e76\u4e14\u64a4\u9500git add(\u5e38\u7528)\\r\\n\\r\\n```\\r\\ngit reset --mixed HEAD^ \u6216\u8005git reset HEAD^\\r\\n```\\r\\n\\r\\n4. \u8fd8\u6ca1\u6709commit, \u4f46\u662f\u5df2\u7ecf add. , \u53ea\u60f3\u64a4\u9500 add\\r\\n\\r\\n```\\r\\n-- filename \u662f\u6307\u5355\u4e2a\u6587\u4ef6\u540d\\r\\ngit reset HEAD filename\\r\\n\u5168\u90e8\uff1agit reset HEAD\\r\\n```\\r\\n\\r\\n5. \u4e0d\u60f3\u4fdd\u7559\u672c\u5730\u6587\u4ef6\u7684\u7684\u6539\u53d8.\\r\\n\\r\\n```\\r\\ngit checkout filename\\r\\n```\\r\\n\\r\\n6. git\u547d\u4ee4\u5bf9\u5404\u4e2a\u533a\u7684\u5f71\u54cd\\r\\n\\r\\n```\\r\\ngit add.     \u5c06\u5de5\u4f5c\u533a\u7684\u6587\u4ef6\u6dfb\u52a0\u5230\u7f13\u5b58\u533a\u57df\\r\\ngit commit  \u662f\u5c06\u7f13\u5b58\u533a\u7684\u5185\u5bb9\u589e\u52a0\u5230\u672c\u5730\u4ed3\u5e93\\r\\ngit checkout --file  \u662f\u5c06\u5de5\u4f5c\u533a\u7684\u5185\u5bb9\u4e22\u5f03\\r\\ngit reset --hard HEAD^    \u662f\u5c06\u5f53\u524d\u7684index \u76f4\u63a5\u6307\u5411\u4e0a\u4e00\u4e2a\u7248\u672c, \u5e76\u4e14\u5c06 \u6682\u5b58\u533a,\u4ed3\u5e93,\u5de5\u4f5c\u533a\u7684\u5185\u5bb9\u53d8\u52a8\u5168\u90e8\u5220\u9664.\\r\\ngit reset --mixed HEAD^ \u6216\u8005git reset HEAD^     \u5c06\u7f13\u5b58\u533a,\u672c\u5730\u4ed3\u5e93\u7684\u53d8\u52a8\u5220\u9664, \u4f46\u662f\u4fdd\u7559\u5de5\u4f5c\u533a\u7684\u6587\u4ef6\u7684\u53d8\u52a8.\\r\\ngit reset --soft HEAD^    \u8868\u793a\u672c\u5730\u4ed3\u5e93\u7684 commit\u7684\u5185\u5bb9\u4e22\u5f03,\u4fdd\u7559\u672c\u5730\u548c\u7f13\u5b58\u533a\u7684\u53d8\u52a8.\\r\\n```\\r\\n\\r\\n##\\t\u4e0d\u60f3\u63d0\u4ea4\u67d0\u4e9b\u6587\u4ef6\u5230\u4ed3\u5e93\\r\\n\\r\\n>  \u5728\u9879\u76ee\u4e2d,\u6709\u4e9b\u6587\u4ef6\u4e0d\u9700\u8981\u4e0a\u4f20, \u6bd4\u5982java\u7684\u5b57\u8282\u7801\u6587\u4ef6 , log\u65e5\u5fd7\u6587\u4ef6\u662f\u4e0d\u9700\u8981\u4e0a\u4f20\u5230git\u670d\u52a1\u5668\u5668\u7684,\u90a3\u4e48\u8fd9\u4e2a\u65f6\u5019,\u5c31\u53ef\u4ee5\u5728\u9879\u76ee\u7684\u6839\u76ee\u5f55\u4e0b\u9762\u521b\u5efa.gitignore \u6587\u4ef6, \u628a\u4e0d\u9700\u8981\u4e0a\u4f20\u7684\u6587\u4ef6\u5ffd\u7565\u6389\u5373\u53ef.\\r\\n\\r\\n```bash\\r\\n.\u5728\u4f7f\u7528Git\u7ba1\u7406\u4ee3\u7801\u7684\u8fc7\u7a0b\u4e2d\uff0c\u53ef\u4ee5\u4fee\u6539.gitignore\u6587\u4ef6\u4e2d\u7684\u6807\u793a\u7684\u65b9\u6cd5\u6765\u5ffd\u7565\u5f00\u53d1\u8005\u60f3\u5ffd\u7565\u6389\u7684\u6587\u4ef6\u6216\u76ee\u5f55\uff0c\u5982\u679c\u6ca1\u6709.gitignore\u6587\u4ef6\uff0c\u53ef\u4ee5\u81ea\u5df1\u624b\u5de5\u521b\u5efa\u3002\u5728.gitignore\u6587\u4ef6\u4e2d\u7684\u6bcf\u4e00\u884c\u4fdd\u5b58\u4e00\u4e2a\u5339\u914d\u7684\u89c4\u5219\u4f8b\u5982\uff1a\\r\\n# \u6b64\u4e3a\u6ce8\u91ca \u2013 \u5c06\u88ab Git \u5ffd\u7565\\r\\n*.a       # \u5ffd\u7565\u6240\u6709 .a \u7ed3\u5c3e\u7684\u6587\u4ef6\\r\\n!lib.a    # \u4f46 lib.a \u9664\u5916\\r\\n/TODO     # \u4ec5\u4ec5\u5ffd\u7565\u9879\u76ee\u6839\u76ee\u5f55\u4e0b\u7684 TODO \u6587\u4ef6\uff0c\u4e0d\u5305\u62ec subdir/TODO\\r\\nbuild/    # \u5ffd\u7565 build/ \u76ee\u5f55\u4e0b\u7684\u6240\u6709\u6587\u4ef6\\r\\ndoc/*.txt # \u4f1a\u5ffd\u7565 doc/notes.txt \u4f46\u4e0d\u5305\u62ec doc/server/arch.txt\\r\\n\\r\\n\u5728\u586b\u5199\u5ffd\u7565\u6587\u4ef6\u7684\u8fc7\u7a0b\u4e2d\uff0c\u6211\u53d1\u73b0.gitignore\u4e2d\u5df2\u7ecf\u6807\u660e\u5ffd\u7565\u7684\u6587\u4ef6\u76ee\u5f55\u4e0b\u7684\u6587\u4ef6\uff0c\u5f53\u6211\u60f3git push\u7684\u65f6\u5019\u8fd8\u4f1a\u51fa\u73b0\u5728push\u7684\u76ee\u5f55\u4e2d\uff0c\u539f\u56e0\u662f\u56e0\u4e3agit\u5ffd\u7565\u76ee\u5f55\u4e2d\uff0c\u65b0\u5efa\u7684\u6587\u4ef6\u5728git\u4e2d\u4f1a\u6709\u7f13\u5b58\uff0c\u5982\u679c\u67d0\u4e9b\u6587\u4ef6\u5df2\u7ecf\u88ab\u7eb3\u5165\u4e86\u7248\u672c\u7ba1\u7406\u4e2d\uff0c\u5c31\u7b97\u662f\u5728.gitignore\u4e2d\u5df2\u7ecf\u58f0\u660e\u4e86\u5ffd\u7565\u8def\u5f84\u4e5f\u662f\u4e0d\u8d77\u4f5c\u7528\u7684\uff0c\u8fd9\u65f6\u5019\u6211\u4eec\u5c31\u5e94\u8be5\u5148\u628a\u672c\u5730\u7f13\u5b58\u5220\u9664\uff0c\u7136\u540e\u518d\u8fdb\u884cgit push\uff0c\u8fd9\u6837\u5c31\u4e0d\u4f1a\u51fa\u73b0\u5ffd\u7565\u7684\u6587\u4ef6\u4e86\u3002git\u6e05\u9664\u672c\u5730\u7f13\u5b58\u547d\u4ee4\u5982\u4e0b\uff1a\\r\\ngit rm -r --cached .\\r\\ngit add .\\r\\ngit commit -m \'update .gitignore\'\\r\\n\u8fd8\u6709\u4e00\u79cd\u60c5\u51b5, \u5c31\u662f\u53d1\u73b0\u67d0\u4e2a\u6587\u4ef6,\u5df2\u7ecf\u5199\u5230\u4e86.gitignore\u4e2d , \u4f46\u662f\u5df2\u7ecf\u4e0a\u4f20\u5230\u4e86,git\u670d\u52a1\u5668\u4e0a\u9762. \\r\\n```\\r\\n\\r\\n\u90a3\u4e48\u8fd9\u4e2a\u6587\u4ef6, \u65e0\u8bba\u4f60\u600e\u4e48\u4fee\u6539,\u6bcf\u6b21\u4e0a\u4f20\u90fd\u662f\u4f1a\u88ab\u5ffd\u7565\u6389\u7684.\u4f46\u662f\u5462, \u9879\u76ee\u4e2d\u53c8\u5b58\u5728\u8fd9\u79cd\u6587\u4ef6, \u8fd9\u79cd\u6587\u4ef6\u4e00\u822c\u662f\u672c\u5730\u5f00\u53d1\u7684\u914d\u7f6e\u6587\u4ef6. \u5982\u679c\u4f60\u91cd\u65b0\u8ba9`.gitignore`\u6587\u4ef6\u751f\u6548, \u90a3\u4e48\u5148\u524d\u5ffd\u7565\u7684\u6587\u4ef6\u4f1a\u88ab\u5220\u9664\u6389, \u4e5f\u5c31\u662f\u8bf4, \u4ee5\u524d\u6587\u4ef6\u5b58\u5728,` .gitignore`\u586b\u5199\u7684\u914d\u7f6e\u4e0d\u751f\u6548. \u4f46\u662f\u73b0\u5728\u4f60\u5220\u9664\u4e86\u7f13\u5b58,`.gitignore`\u6587\u4ef6\u751f\u6548\u4e86, \u90a3\u4e48\u4f1a\u5bfc\u81f4\u539f\u6765\u7684\u6587\u4ef6\u4e22\u5931. \u8fd9\u4e2a\u662f\u6211\u4eb2\u8eab\u7ecf\u5386\u8fc7\u7684. \u4e00\u5b9a\u8981\u6ce8\u610f,\u8fd9\u79cd\u95ee\u9898\u53d1\u751f, \u5bfc\u81f4\u4e22\u5931\u4e0d\u5fc5\u8981\u7684\u914d\u7f6e\u6587\u4ef6.\\r\\n\\r\\ngit checkout origin/2.1.0-llw  \u62c9\u8da3\u8fdc\u7a0b\u5206\u652f\\r\\n\\r\\ngit checkout --track origin/branch_name  \u5efa\u7acb\u5173\u8054\\r\\ngit branch --set-upstream-to   remotes/origin/news\\r\\n\\r\\ngit branch --set-upstream-to=origin/rzzm_202011208 rzzm_202011208\\r\\n\\r\\n**\u53c2\u8003:**\\r\\n\\r\\n- [GIT\u5b98\u65b9\u6587\u6863](https://git-scm.com/book/zh/v1)"},{"id":"linux-opt","metadata":{"permalink":"/devops/linux-opt","source":"@site/devops/2019-10-01-linux-opt.md","title":"linux\u538b\u6d4b\u914d\u7f6e\u4f18\u5316","description":"\u5f88\u591a\u65f6\u5019\u6211\u4eec\u5728linux\u4e0a\u9762\u538b\u6d4b\u7684\u65f6\u5019\uff0c\u5728\u6392\u9664\u7f51\u5361\u548c\u5176\u5b83\u7684\u56e0\u7d20\u540e\u8981\u770b\u4e00\u4e0b\u662f\u5426\u662f\u56e0\u4e3alinux\u672c\u8eab\u7684\u9650\u5236\uff0c\u5728linux\u4e2d\u4e00\u5207\u7686\u662f\u6587\u4ef6","date":"2019-10-01T00:00:00.000Z","formattedDate":"October 1, 2019","tags":[{"label":"redis","permalink":"/devops/tags/redis"}],"readingTime":0.615,"truncated":false,"authors":[{"name":"jeesk","title":"java engineer","url":"https://shanjiancaofu.com","imageURL":"https://shanjiancaofu.com/img/avtor.png","key":"jeesk"}],"frontMatter":{"slug":"linux-opt","title":"linux\u538b\u6d4b\u914d\u7f6e\u4f18\u5316","authors":["jeesk"],"tags":["redis"]},"prevItem":{"title":"\u5f00\u53d1\u5fc5\u987b\u638c\u63e1\u7684git\u4f7f\u7528\u573a\u666f","permalink":"/devops/use-git"},"nextItem":{"title":"Storm-\u96c6\u7fa4\u642d\u5efa\u5165\u95e8","permalink":"/devops/install-cluster-apache-storm"}},"content":">   \u5f88\u591a\u65f6\u5019\u6211\u4eec\u5728linux\u4e0a\u9762\u538b\u6d4b\u7684\u65f6\u5019\uff0c\u5728\u6392\u9664\u7f51\u5361\u548c\u5176\u5b83\u7684\u56e0\u7d20\u540e\u8981\u770b\u4e00\u4e0b\u662f\u5426\u662f\u56e0\u4e3alinux\u672c\u8eab\u7684\u9650\u5236\uff0c\u5728linux\u4e2d\u4e00\u5207\u7686\u662f\u6587\u4ef6\\r\\n> \u6240\u4ee5\u6211\u4eec\u8981\u4f18\u5316\u4e00\u4e0blinux\u7684\u76f8\u5173\u53c2\u6570\\r\\n\\r\\n\\r\\n```\\r\\n vim /etc/security/limits.conf\\r\\n\\r\\n* soft nofile 500000\\r\\n* hard nofile 500000\\r\\nroot soft nofile 500000\\r\\nroot hard nofile 500000\\r\\n\\r\\n```\\r\\n\u6267\u884c\u547d\u4ee4\\r\\n```\\r\\n echo 5 > /proc/sys/net/ipv4/tcp_fin_timeout\\r\\n echo 1 > /proc/sys/net/ipv4/tcp_tw_recycle\\r\\n echo 1 > /proc/sys/net/ipv4/tcp_tw_reuse\\r\\n```\\r\\n\\r\\n\u66ff\u6362lib \u5305jar -xvf .\\\\my-test.jar\\r\\njar -cfM0 my-test.jar ./\\r\\n\\r\\n{% dplayer \\"url=http://home.ustc.edu.cn/~mmmwhy/GEM.mp4\\"  \\"pic=http://home.ustc.edu.cn/~mmmwhy/GEM.jpg\\" \\"loop=yes\\" \\"theme=#FADFA3\\" \\"autoplay=false\\" \\"token=tokendemo\\" %}"},{"id":"install-cluster-apache-storm","metadata":{"permalink":"/devops/install-cluster-apache-storm","source":"@site/devops/2019-07-08-install-cluster-apache-storm.md","title":"Storm-\u96c6\u7fa4\u642d\u5efa\u5165\u95e8","description":"\u524d\u7f6e\u5de5\u4f5c","date":"2019-07-08T00:00:00.000Z","formattedDate":"July 8, 2019","tags":[{"label":"storm","permalink":"/devops/tags/storm"}],"readingTime":2.315,"truncated":false,"authors":[{"name":"jeesk","title":"java engineer","url":"https://shanjiancaofu.com","imageURL":"https://shanjiancaofu.com/img/avtor.png","key":"jeesk"}],"frontMatter":{"slug":"install-cluster-apache-storm","title":"Storm-\u96c6\u7fa4\u642d\u5efa\u5165\u95e8","authors":["jeesk"],"tags":["storm"]},"prevItem":{"title":"linux\u538b\u6d4b\u914d\u7f6e\u4f18\u5316","permalink":"/devops/linux-opt"},"nextItem":{"title":"NFS\u5728linux\u4e0b\u9762\u7684\u7b80\u5355\u4f7f\u7528","permalink":"/devops/nfs-use"}},"content":"####  \u524d\u7f6e\u5de5\u4f5c\\n1.  3\u53f0 \u5b89\u88c5JDK 8\u7684\u865a\u62df\u673a\\n2.  3\u53f0\u673a\u5668\u5b89\u88c5 zookeeper \u96c6\u7fa4\u7684\u673a\u5668\\n3.  \u4fee\u6539hosts \u5982\u4e0b,\u5047\u8bbe\u6211\u4eec\u67093 \u53f0\u673a\u5668,ip 192.168.17.81,192.168.17.82,192.168.17.83, \u4fee\u6539hosts\u6587\u4ef6\\n```\\n\\n192.168.17.81 zk01 kafka01 storm01\\n192.168.17.82 zk02 kafka02 storm02\\n192.168.17.83 zk03 kafka03 storm03\\n```\\n1.  \u4e0b\u8f7dstorm \u5b89\u88c5\u5305\\n\u6253\u5f00storm \u53d1\u884c\u7248\u9875\u9762 `http://storm.apache.org/downloads.html`, \u9009\u53d6\u4e00\u4e2astorm \u7684\u4e8c\u8fdb\u5236\u4e0b\u8f7d ```\\n```\\nwget  https://www.apache.org/dyn/closer.lua/storm/apache-storm-2.2.0/apache-storm-2.2.0.tar.gz\\n```\\n2.  \u5206\u53d1\u89e3\u538b\\n```\\n# \u5728storm01 \u7684\u673a\u5668\u4e0a\u9762\u6267\u884c, 3 \u53f0\u673a\u5668\u8bb0\u5f97\u914d\u7f6e\u4e92\u76f8\u514d\u5bc6\u767b\u5f55\\n scp apache-storm-2.2.0.tar.gz root@storm02:/opt/soft/\\n scp apache-storm-2.2.0.tar.gz root@storm03:/opt/soft/\\n#  \u57283 \u53f0\u673a\u5668\u5bf9\u5e94\u7684\u76ee\u5f55\u6267\u884c\u89e3\u538b, \u8f6f\u8fde\u63a5\\ntar -zxvf apache-storm-2.2.0.tar.gz  && ln -s  /opt/soft/apache-storm-2.2.0 storm\\n``` \\n3.  \u4fee\u6539\u914d\u7f6e\\n\u5728storm01 \u7684 /opt/soft/storm/conf \u76ee\u5f55\u4e0b\u6267\u884c\u4e00\u9762\u7684\u64cd\u4f5c\\n```\\ncp storm.yaml storm.yaml.bak\\nvim storm.yaml\\n```\\n\u6587\u4ef6\u91cc\u9762\u7c98\u8d34\u5982\u4e0b\u5185\u5bb9\\n```\\n#  storm \u76843\u53f0\u673a\u5668\\nstorm.zookeeper.servers:\\n        - \\"storm01\\"\\n        - \\"storm02\\"\\n        - \\"storm03\\"\\n# \u914d\u7f6enimbus \u673a\u5668\u7684IP\\nnimbus.host:    \\"storm01\\"\\n# \u914d\u7f6e\u5bf9\u5e94\u7ec4\u4ef6\u7684jvm \u5185\u5b58\\nnimbus.childopts:       \\"-Xmx1024m\\"\\nsupervisor.childopts:   \\"-Xmx1024m\\"\\nworker.childopts:       \\"-Xmx1024m\\"\\nui.childopts:   \\"-Xmx768m\\"\\n# \u914d\u7f6esupervisor \u7684\u7aef\u53e3\\nsupervisor.slots.ports:\\n        -       6700\\n        -       6701\\n        -       6702\\n        -       6703\\n# \u914d\u7f6estorm ui\u7684\u7aef\u53e3, \u8fd9\u4e2a\u7aef\u53e3\u662fnimbus \u673a\u5668\u4e0a\u542f\u52a8\u7684ui. \\nui.port: 9999\\n```\\n\u5c06storm.yaml, \u5206\u53d1\u5230\u53e6\u59162\u53f0\u673a\u5668\u4e0a\u9762\\n```\\nscp storm.yaml root@storm02:/opt/soft/storm/conf\\nscp storm.yaml root@storm03:/opt/soft/storm/conf\\n```\\n\\n4.  \u76f8\u5173\u547d\u4ee4\u5728storm \u7684bin\u76ee\u5f55\u6267\u884c\\n  -  \u542f\u52a8nimbus:  `./storm nimbus `\\n  -  \u542f\u52a8storm ui:  `./storm ui`\\n  -  \u542f\u52a8supervisor:  `./storm supervisor`\\n  -  \u542f\u52a8\u62d3\u6251: `./storm jar xxxxx.jar  \u62d3\u6251\u540d\u79f0`\\n  -  \u6740\u6b7b\u62d3\u6251: `./storm kill \u62d3\u6251\u540d\u79f0 -w 10` , \u6267\u884ckill \u547d\u4ee4\u53ef\u4ee5\u901a\u8fc7-2\\n \u7b49\u5f85\u79d2\u6570,\u6267\u884c\u505c\u7528\u4ee5\u540e\u7684\u7b49\u5f85\u65f6\u95f4\\n +  \u505c\u7528\u4efb\u52a1:  `./storm deactivte \u62d3\u6251\u540d\u79f0`\\n  -  \u542f\u7528\u4efb\u52a1: `./storm activate \u62d3\u6251\u540d`\\n  -  \u91cd\u65b0\u90e8\u7f72\u4efb\u52a1: `./storm rebalance \u62d3\u6251\u540d`\\n \u6ce8\u610f, \u542f\u52a8nimbus, ui \u7684\u547d\u4ee4\u53ea\u80fd\u5728nimbus \u7684\u673a\u5668\u4e0a\u9762\u6267\u884c, \u542f\u52a8supervisor \u53ea\u80fd\u5728\u53e6\u59162\u53f0\u673a\u5668\u4e0a\u9762\u6267\u884c.  \\n    \u4e0a\u9762storm ui\u7684\u8bbf\u95ee\u5730\u5740 http://storm01:9999/index.html\\n\\n>  \u5b8c\u7ed3\u6492\u82b1,\u8def\u8fc7\u70b9\u8d5e, \u6708\u516510W ."},{"id":"nfs-use","metadata":{"permalink":"/devops/nfs-use","source":"@site/devops/2019-04-05-nfs-use.md","title":"NFS\u5728linux\u4e0b\u9762\u7684\u7b80\u5355\u4f7f\u7528","description":"\u6700\u8fd1\u9047\u5230\u4e86\u70b9\u95ee\u9898\uff0c\u9879\u76ee\u672c\u6765\u4ee5\u4e3a\u4e0d\u4f1a\u90e8\u7f72\u591a\u4e2a\u7ad9\u70b9\uff0c\u4e0a\u4f20\u6587\u4ef6\u4e4b\u7c7b\u7684\u5c31\u76f4\u63a5\u914d\u7f6e\u5230\u672c\u673a\u7684\u76ee\u5f55\u4e0b\u4e86\uff0c\u8fd9\u6837\u4e00\u6765\u90e8\u7f72\u591a\u4e2a\u7ad9\u70b9\u4e5f\u6ca1\u6709\u516c\u7528\u7684\u6587\u4ef6\u670d\u52a1\u5668\uff0c\u574f\u4e8b\u4e86\uff0c\u7f51\u4e0a\u4e00\u627e\u529e\u6cd5\uff0cnfs\u80fd\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u90a3\u5c31\u5f00\u59cb\u8bd5\u4e00\u8bd5\u3002","date":"2019-04-05T00:00:00.000Z","formattedDate":"April 5, 2019","tags":[{"label":"nfs","permalink":"/devops/tags/nfs"}],"readingTime":2.74,"truncated":false,"authors":[{"name":"jeesk","title":"java engineer","url":"https://shanjiancaofu.com","imageURL":"https://shanjiancaofu.com/img/avtor.png","key":"jeesk"}],"frontMatter":{"slug":"nfs-use","title":"NFS\u5728linux\u4e0b\u9762\u7684\u7b80\u5355\u4f7f\u7528","authors":["jeesk"],"tags":["nfs"]},"prevItem":{"title":"Storm-\u96c6\u7fa4\u642d\u5efa\u5165\u95e8","permalink":"/devops/install-cluster-apache-storm"},"nextItem":{"title":"Kafka-\u96c6\u7fa4\u6559\u7a0b,\u53ca\u82e5\u5e72\u914d\u7f6e\u8bf4\u660e","permalink":"/devops/install-cluster-kafka"}},"content":"\u6700\u8fd1\u9047\u5230\u4e86\u70b9\u95ee\u9898\uff0c\u9879\u76ee\u672c\u6765\u4ee5\u4e3a\u4e0d\u4f1a\u90e8\u7f72\u591a\u4e2a\u7ad9\u70b9\uff0c\u4e0a\u4f20\u6587\u4ef6\u4e4b\u7c7b\u7684\u5c31\u76f4\u63a5\u914d\u7f6e\u5230\u672c\u673a\u7684\u76ee\u5f55\u4e0b\u4e86\uff0c\u8fd9\u6837\u4e00\u6765\u90e8\u7f72\u591a\u4e2a\u7ad9\u70b9\u4e5f\u6ca1\u6709\u516c\u7528\u7684\u6587\u4ef6\u670d\u52a1\u5668\uff0c\u574f\u4e8b\u4e86\uff0c\u7f51\u4e0a\u4e00\u627e\u529e\u6cd5\uff0cnfs\u80fd\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u90a3\u5c31\u5f00\u59cb\u8bd5\u4e00\u8bd5\u3002\\n\\n## \u73af\u5883\u4ecb\u7ecd\uff1a\\n\\n```\\n\u670d\u52a1\u5668\uff1aCentOS 6.4_64 server ip\uff1a10.1.1.52 \u670d\u52a1\u5668\uff1aCentOS 6.4_64 client ip\uff1a10.1.1.47\\n```\\n\\n## \u5b89\u88c5nfs(\u4e24\u53f0\u5747\u5b89\u88c5)\\n\\n```\\nyum install nfs-utils rpcbind\\n```\\n\\n## \u670d\u52a1\u7aef\u914d\u7f6e\\n\\n### 1\u3001\u521b\u5efa\u5171\u4eab\u76ee\u5f55\\n\\n```\\nmkdir /home/test\\n```\\n\\n2\u3001NFS\u6587\u4ef6\u914d\u7f6e\\n\\nvi /etc/exports\\n\\n\u589e\u52a0\u5982\u4e0b\u4e00\u884c\uff1a\\n\\n`/home/test/\xa010.1.1.47(rw,no_root_squash,no_all_squash,sync)`\\n\\n`\u4f7f\u914d\u7f6e\u751f\u6548`\\n\\n*`exportfs -rv`*\\n\\n\u6ce8\uff1a\u914d\u7f6e\u6587\u4ef6\u8bf4\u660e\uff1a\xa0\\n\\n/usr/local/test/ \u4e3a\u5171\u4eab\u7684\u76ee\u5f55\uff0c\u4f7f\u7528\u7edd\u5bf9\u8def\u5f84\u3002\\nNFS_Client_IP(rw,no_root_squash,no_all_squash,sync)\u4e3a\u5ba2\u6237\u7aef\u7684\u5730\u5740\u53ca\u6743\u9650\uff0c\u5730\u5740\u53ef\u4ee5\u662f\u4e00\u4e2a\u7f51\u6bb5\uff0c\u4e00\u4e2aIP\u5730\u5740\u6216\u8005\u662f\u4e00\u4e2a\u57df\u540d\uff0c\u57df\u540d\u652f\u6301\u901a\u914d\u7b26\uff0c\u5982\uff1a*.youxia.com\uff0c\u5730\u5740\u4e0e\u6743\u9650\u4e2d\u95f4\u6ca1\u6709\u7a7a\u683c\uff0c\u6743\u9650\u8bf4\u660e\uff1a\\nrw\uff1aread-write\uff0c\u53ef\u8bfb\u5199\uff1b\\nro\uff1aread-only\uff0c\u53ea\u8bfb\uff1b\\nsync\uff1a\u6587\u4ef6\u540c\u65f6\u5199\u5165\u786c\u76d8\u548c\u5185\u5b58\uff1b\\nasync\uff1a\u6587\u4ef6\u6682\u5b58\u4e8e\u5185\u5b58\uff0c\u800c\u4e0d\u662f\u76f4\u63a5\u5199\u5165\u5185\u5b58\uff1b\\nno_root_squash\uff1aNFS\u5ba2\u6237\u7aef\u8fde\u63a5\u670d\u52a1\u7aef\u65f6\u5982\u679c\u4f7f\u7528\u7684\u662froot\u7684\u8bdd\uff0c\u90a3\u4e48\u5bf9\u670d\u52a1\u7aef\u5206\u4eab\u7684\u76ee\u5f55\u6765\u8bf4\uff0c\u4e5f\u62e5\u6709root\u6743\u9650\u3002\u663e\u7136\u5f00\u542f\u8fd9\u9879\u662f\u4e0d\u5b89\u5168\u7684\u3002\\nroot_squash\uff1aNFS\u5ba2\u6237\u7aef\u8fde\u63a5\u670d\u52a1\u7aef\u65f6\u5982\u679c\u4f7f\u7528\u7684\u662froot\u7684\u8bdd\uff0c\u90a3\u4e48\u5bf9\u670d\u52a1\u7aef\u5206\u4eab\u7684\u76ee\u5f55\u6765\u8bf4\uff0c\u62e5\u6709\u533f\u540d\u7528\u6237\u6743\u9650\uff0c\u901a\u5e38\u4ed6\u5c06\u4f7f\u7528nobody\u6216nfsnobody\u8eab\u4efd\uff1b\\nall_squash\uff1a\u4e0d\u8bbaNFS\u5ba2\u6237\u7aef\u8fde\u63a5\u670d\u52a1\u7aef\u65f6\u4f7f\u7528\u4ec0\u4e48\u7528\u6237\uff0c\u5bf9\u670d\u52a1\u7aef\u5206\u4eab\u7684\u76ee\u5f55\u6765\u8bf4\u90fd\u662f\u62e5\u6709\u533f\u540d\u7528\u6237\u6743\u9650\uff1b\\nanonuid\uff1a\u533f\u540d\u7528\u6237\u7684UID\u503c\uff0c\u901a\u5e38\u662fnobody\u6216nfsnobody\uff0c\u53ef\u4ee5\u5728\u6b64\u5904\u81ea\u884c\u8bbe\u5b9a\uff1b\\nanongid\uff1a\u533f\u540d\u7528\u6237\u7684GID\u503c\u3002\\n\\n## *\u542f\u52a8\u670d\u52a1\u7aef*\\n\\n```\\nservice rpcbind startservice nfs start\\n```\\n\\n**\u5ba2\u6237\u7aef\u6302\u8f7d**\\n\\n### 1\u3001\u521b\u5efa\u9700\u8981\u6302\u8f7d\u7684\u76ee\u5f55\uff1a\\n\\n```\\nmkdir /usr/local/test\\n```\\n\\n### 2\u3001\u6d4b\u8bd5\u6302\u8f7d\uff1a\\n\\n```\\nshowmount -e 10.1.1.52\\n```\\n\\n3\u3001\u6302\u8f7d\\n\\n```\\nmount -t nfs NFS_Server_IP:/usr/local/test/usr/local/test mount\\n\\nmount -t nfs 10.10.202.230:/hadoop/AD /hadoop/AD\\n\\n```\\n\\nNFS_Server_IP:/usr/local/test on /usr/local/testtype nfs (rw,vers=4,addr= NFS_Server_IP,clientaddr= NFS_Client_IP)\xa0\\n\\n\u5982\u679c\u4fe1\u606f\u5982\u4e0a\u663e\u793a\u5219\u6302\u8f7d\u6210\u529f\uff01\\n\\n****4\u3001\u6d4b\u8bd5\uff1a****\\n\\n\u5ba2\u6237\u7aef\u65b0\u5efa\u4e00\u4e2a\u6587\u4ef6\uff1a\\n\\n```\\ncd /home/testecho \\"nfs test\\">>test.txt\\n```\\n\\n\u770b\u4e00\u4e0b\u670d\u52a1\u7aef\u5171\u4eab\u76ee\u5f55\u6709\u6b64\u6587\u4ef6\u5417"},{"id":"install-cluster-kafka","metadata":{"permalink":"/devops/install-cluster-kafka","source":"@site/devops/2019-04-01-install-cluster-kafka.md","title":"Kafka-\u96c6\u7fa4\u6559\u7a0b,\u53ca\u82e5\u5e72\u914d\u7f6e\u8bf4\u660e","description":"\u524d\u7f6e\u9700\u6c42","date":"2019-04-01T00:00:00.000Z","formattedDate":"April 1, 2019","tags":[{"label":"kafka","permalink":"/devops/tags/kafka"}],"readingTime":6.415,"truncated":false,"authors":[{"name":"jeesk","title":"java engineer","url":"https://shanjiancaofu.com","imageURL":"https://shanjiancaofu.com/img/avtor.png","key":"jeesk"}],"frontMatter":{"slug":"install-cluster-kafka","title":"Kafka-\u96c6\u7fa4\u6559\u7a0b,\u53ca\u82e5\u5e72\u914d\u7f6e\u8bf4\u660e","authors":["jeesk"],"tags":["kafka"]},"prevItem":{"title":"NFS\u5728linux\u4e0b\u9762\u7684\u7b80\u5355\u4f7f\u7528","permalink":"/devops/nfs-use"},"nextItem":{"title":"K8s\u7684ingress-\u914d\u7f6e\u8de8\u57df\u548c\u767d\u540d\u5355","permalink":"/devops/k8s-ingress-cross-domain-whitelist"}},"content":"####  \u524d\u7f6e\u9700\u6c42\\n\\n-    3\u53f0\u88c5\u6709JDK 8 \u7684\u865a\u62df\u673a\\n-    zookeeper \u96c6\u7fa4 3\u53f0\\n-    \u5047\u8bbe\u67093\u53f0\u673a\u5668, 192.168.17.81,192.168.17.82,192.168.17.83 \u5206\u522b\u4e2a\u522b\u540d\\n     \u4fee\u6539 /etc/hosts \u6587\u4ef6\u589e\u52a0\u4e0b\u9762\u522b\u540d, \u65b9\u9762\u811a\u672c\u64cd\u4f5c\\n\\n```\\n192.168.17.81 zk01 kafka1\\n192.168.17.82 zk02 kafka2 \\n192.168.17.83 zk03 kafka3 \\n```\\n\\n####  \u5b89\u88c5\u6559\u7a0b \\n\\n1.  $\\\\color{#FF0000}{\u4e0b\u8f7d kafka \u5b89\u88c5\u5305,\u5e76\u4e14\u5206\u53d1\u5b89\u88c5\u5305\u5230\u53e6\u59162\u53f0\u673a\u5668}$\\n    \u6253\u5f00 kafka \u53d1\u884c\u7248\u7684\u4e0b\u8f7d\u9875\u9762 `http://kafka.apache.org/downloads`, \u8fd9\u91cc\u6709\u5f88\u591a\u7684\u7248\u672c, \u6211\u4eec\u9009\u53d6\u6700\u65b0\u7684\u4e00\u4e2a\u7248\u672c\u4e0b\u8f7d\\n\\n```\\ncd /opt/soft\\nwget https://www.apache.org/dyn/closer.cgi?path=/kafka/2.6.0/kafka_2.12-2.6.0.tgz\\nscp  kafka_2.12-2.6.0.tgz root@zk02:/opt/soft/\\nscp  kafka_2.12-2.6.0.tgz root@zk03:/opt/soft/\\n```\\n\\n2.   $\\\\color{#FF0000}{\u4fee\u6539 hosts }$\\n      -  \u89e3\u538b\u6587\u4ef6\\n\\n```\\n# 3\u53f0\u673a\u5668\u5206\u522b\u6267\u884c\u89e3\u538b\u547d\u4ee4,\u548c\u8f6f\u8fde\u63a5\u547d\u4ee4\\ntar -zxvf  kafka_2.12-2.6.0.tgz && ln -s /opt/soft/kafka_2.12-2.6.0 kafka\\n# \u8fdb\u5165kafka \\ncd kafka\\n```\\n\\n  -  \u4fee\u6539\u914d\u7f6e\u6587\u4ef6  config/server.properties\\n     \u8fd9\u4e2a\u6587\u4ef6\u9700\u8981\u4fee\u6539\u7684\u914d\u7f6e\\n\\n```\\n# \u8fd9\u91cc\u7684id , 3\u53f0\u673a\u5668\u5fc5\u987b\u4e0d\u540c\\nbroker.id=0\\n# \u8fd9\u662f\u65b0\u589e\u7684\u914d\u7f6e, \u8ba9topic \u80fd\u591f\u5220\u9664\\ndelete.topic.enable=true\\n# \u65b0\u589e\u7684\u914d\u7f6e, \u914d\u7f6e3 \u53f0\u673a\u5668\u7684zk\\nzookeeper.connect=zk01:2181,zk02:2181,zk03:2181\\n# \u4fee\u6539\u914d\u7f6e\\nlisteners=PLAINTEXT://=zk01:9092\\n```\\n\\n>  \u5982\u679c\u610f\u5916\u6ca1\u6709\u4fee\u6539delete.topic.enable=true , \u5982\u4f55\u5220\u9664kafka \u7684topic\u5462\u3002 \\n1.  \u624b\u52a8\u5728zk \u91cc\u9762\u5220\u9664brokers/topics/\u4e3b\u9898\u540d\uff0c\u3001config/topics/\u4e3b\u9898\u540d\\n2. \u5220\u9664kafka \u7684data\uff0c \u4e00\u822c\u5728log.dir,\u6216\u8005log.dirs \u7684 \u76ee\u5f55\u5220\u9664\u548c\u4e3b\u9898\u540d\u4e3a\u524d\u7f00\u7684\u6587\u4ef6\u5373\u53ef\u3002\\n\\n\u5c06\u8fd9\u4e2a\u6587\u4ef6\u5206\u53d1\u5230\u53e6\u59162\u53f0\u673a\u5668\u5bf9\u5e94\u7684\u76ee\u5f55, \u7136\u540e 3\u53f0\u673a\u5668\u4e0d\u540c\u7684\u5730\u65b9\u4e3b\u8981\u662f:\\n\\n-  broker.id=0, \u8fd9\u91cc\u7684id , 3\u53f0\u673a\u5668\u5fc5\u987b\u4e0d\u540c\\n-  listeners=PLAINTEXT://=zk01:9092 , \u8fd9 zk01, \u5728\u53e6\u5916\u4e24\u53f0\u5206\u522b\u66ff\u6362\u6210zk02,zk03\\n\\n3. $\\\\color{#FF0000}{\u5e38\u7528\u547d\u4ee4}$\\n   \u5982\u4e0b: \\n       -   \u542f\u52a8:  `/opt/soft/kafka/bin/kafka-server-start.sh -daemon config/server.properties`\\n\\n     -   \u5173\u95ed:  `bin/kafka-server-stop.sh stop`\\n     -   \u67e5\u770b\u6240\u6709\u7684 topic:   ` bin/kafka-topics.sh --zookeeper zk01:2181 --list` , \u8fd9\u91cc\u7684 zk01, \\n     -   \u521b\u5efatopic:  ` bin/kafka-topics.sh  --zookeeper zk01:2181 --create --replication-factor 3 --partitions 1 --topic bade ` \\n         \u8fd9\u91cc\u7684zk01 \u662f\u4f60zk\u7684\u673a\u5668, replication-factor \u5b9a\u4e49\u590d\u672c\u6570\u91cf,partitions \u5b9a\u4e49\u5206\u533a\u6570\u91cf\\n   -   \u521b\u5efatopic \u7684\u65f6\u5019\u589e\u52a0\u914d\u7f6e \\n\\n   bin/kafka-topics.sh  --zookeeper zk01:2181 --create --replication-factor 3 --partitions 1 --topic bade --config max.message.bytes=10000\\n\\n   - \u4fee\u6539opic \u7684\u65f6\u5019\u5220\u9664\u914d\u7f6e `bin/kafka-topics.sh  --zookeeper zk01:2181 --create --replication-factor 3 --partitions 1 --topic bade --delete_config max.message.bytes`\\t\\n\\n   - \u5220\u9664topic:  `bin/kafka-topics.sh  --zookeeperhadoop102:2181  --delete --topic first ` , \u6ce8\u610f: \u5982\u679c \u4f60\u5728 config/server.properties \u91cc\u9762\u6ca1\u6709\u5b9a\u4e49 delete.topic.enable=true, \u90a3\u4e48 topic \u53ea\u662f\u6807\u8bb0\u5220\u9664\u4e86\\n\\n   - \u6307\u5b9atopic \u53d1\u9001\u6d88\u606f:  `bin/kafka-console-producer.sh --broker-list hadoop102:9092 --topic  first` , \u6ce8\u610f\u8fd9\u91ccv\u7684first \u662ftopic \u7684\u540d\u79f0\\n   - \u6307\u5b9atopic \u6d88\u8d39\u6d88\u606f: `bin/kafka-console-consumer.sh --bootstrap-server hadoop102:9092 --topic first`\\n    - \u67e5\u770bTopic\u8be6\u60c5: `bin/kafka-topics.sh  --zookeeper 192.168.17.81:2181 --describe --topic first` , \u8fd9\u91cc\u7684first \u662ftopic\u540d\u79f0\\n   - \u4fee\u6539topic \u5206\u533a\u6570\u91cf: `bin/kafka-topics.sh  --zookeeper 192.168.17.81:2181 --alter --topic first --partitions 6`\\n     tips: \u6ce8\u610f\u5982\u679c\u4e8b\u901a\u8fc7key\u6765\u8ba1\u7b97\u5206\u533a\uff0c\u8fdb\u884c\u987a\u5e8f\u6d88\u8d39\uff0c\u589e\u52a0\u5206\u533a\u4e09\u601d\u800c\u540e\u884c\u3002 \u5206\u533a\u6570\u91cf\u53ea\u80fd\u589e\u52a0\u4e0d\u80fd\u51cf\u5c11\u3002\\n   - \u67e5\u770b\u4e0d\u53ef\u7528\u7684\u5206\u533a `bin/kafka-topics.sh  --zookeeper 192.168.17.83:2181 --describe --unavailable-partitions`\\n   - \u67e5\u770b\u8986\u76d6\u914d\u7f6e\u7684topic ` bin/kafka-topics.sh  --zookeeper 192.168.17.83:2181 --describe --topics-with-overrides`\\n   - \u67e5\u770b\u5305\u542b\u5931\u6548\u7684\u526f\u672c\u5206\u533a `bin/kafka-topics.sh  --zookeeper 192.168.17.83:2181 --describe --under-replicated-partitions` \\n   - \u521b\u5efa\u4e3b\u9898\u589e\u52a0\u4e0d\u5b58\u5728\u624d\u521b\u5efa\u7684\u914d\u7f6e ` bin/kafka-topics.sh  --zookeeper zk01:2181 --create --replication-factor 3 --partitions 1 --topic bade  --if-not-exists`\\n   - \u4fee\u6539\u4e3b\u9898\u914d\u7f6e\u5b58\u5728\u4e3b\u9898\u624d\u4fee\u6539 `bin/kafka-topics.sh  --zookeeper 192.168.17.81:2181 --alter --topic first --partitions 6 --if-exists`\\n    -   \u65b0\u7248\u914d\u7f6e\u7ba1\u7406kafka-config.sh\\n\\n\\n\\n4.   $\\\\color{#FF0000}{kakfa \u914d\u7f6e\u8bf4\u660e}$\\n        \u5982\u4e0b:  \\n              1.    \u5728\u6211\u4eec\u751f\u4ea7\u73af\u5883\u4e2d\u7684ack \u914d\u7f6e \u662f0. \u4e0d\u7b49\u5f85broker\u7684ack, \u63d0\u4f9b\u4e00\u4e2a\u6700\u4f4e\u7684\u5ef6\u8fdf, broker \u6ca1\u6709\u5199\u5165\u78c1\u76d8\u5c31\u5df2\u7ecf\u8fd4\u56de,\u53ef\u80fd\u4e22\u5931\u6570\u636e.\\n              2.    ack  = 1, \u5f53partition\u7684leader \u7684\u6570\u636e\u843d\u76d8\u5c31\u8fd4\u56de,\u5982\u679c\u5728follower \u540c\u6b65\u6210\u529f\u4e4b\u524dleader \u6545\u969c\u53ef\u80fd\u4e22\u5931\u8bd7\u53e5\\n              3.    ack = -1, \u5f53partition\u7684leader \u548cfollower \u5168\u90e8\u843d\u5730\u540e\u624d\u4f1a\u8fd4\u56deack, \u5982\u679c\u5728follower \u540c\u6b65\u5b8c\u6210\u540e, broker \u53d1\u9001ack \u4e4b\u524d leader \u53d1\u751f\u6545\u969c, \u90a3\u4e48\u5c06\u4f1a\u9020\u6210\u91cd\u590d\\n\\n5.   $\\\\color{#FF0000}{\u6545\u969c\u5904\u7406\u7ec6\u8282}$\\n\\nlog\u6587\u4ef6\u7684HW\u548cLEO\\n\\nLEO : LOG END OFFSET \u6bcf\u4e2a\u590d\u672c\u6700\u5927\u7684offset\\n\\nHW: \u6307\u7684\u662f\u6d88\u8d39\u8005\u80fd\u591f\u89c1\u5230\u7684\u6700\u5927\u7684offset, ISR \u6700\u5c0f\u7684LEO. \\n\\n- follower  \u6545\u969c\\n  **follower \u53d1\u751f\u6545\u969c\u540e\u4f1a\u88ab\u4e34\u65f6\u8e22\u51fa ISR\uff0c\u5f85\u8be5 follower \u6062\u590d\u540e\uff0cfollower \u4f1a\u8bfb\u53d6\u672c\u5730\u78c1\u76d8**\\n  **\u8bb0\u5f55\u7684\u4e0a\u6b21\u7684 HW\uff0c\u5e76\u5c06 log \u6587\u4ef6\u9ad8\u4e8e HW \u7684\u90e8\u5206\u622a\u53d6\u6389\uff0c\u4ece HW \u5f00\u59cb\u5411 leader \u8fdb\u884c\u540c\u6b65\u3002**\\n  **\u7b49\u8be5 follower  \u7684 LEO  \u5927\u4e8e\u7b49\u4e8e\u8be5 Partition \u7684 \u7684 HW\uff0c\u5373 follower \u8ffd\u4e0a leader \u4e4b\u540e\uff0c\u5c31\u53ef\u4ee5\u91cd**\\n  **\u65b0\u52a0\u5165 ISR \u4e86\u3002**\\n- leader  \u6545\u969c\\n  **leader \u53d1\u751f\u6545\u969c\u4e4b\u540e\uff0c\u4f1a\u4ece ISR \u4e2d\u9009\u51fa\u4e00\u4e2a\u65b0\u7684 leader\uff0c\u4e4b\u540e\uff0c\u4e3a\u4fdd\u8bc1\u591a\u4e2a\u526f\u672c\u4e4b\u95f4\u7684\u6570\u636e\u4e00\u81f4\u6027\uff0c\u5176\u4f59\u7684 follower \u4f1a\u5148\u5c06\u5404\u81ea\u7684 log \u6587\u4ef6\u9ad8\u4e8e HW \u7684\u90e8\u5206\u622a\u6389\uff0c\u7136\u540e\u4ece\u65b0\u7684 leader**\\n  **\u540c\u6b65\u6570\u636e\u3002**(\u6ce8\u610f\uff1a \u8fd9\u53ea\u80fd\u4fdd\u8bc1\u526f\u672c\u4e4b\u95f4\u7684\u6570\u636e\u4e00\u81f4\u6027\uff0c\u5e76\u4e0d\u80fd\u4fdd\u8bc1\u6570\u636e\u4e0d\u4e22\u5931\u6216\u8005\u4e0d\u91cd\u590d)\\n\\n6  .  $\\\\color{#FF0000}{\u6d4b\u8bd5consumer \u662f\u5426\u91cd\u590d\u6d88\u8d39\u7684\u60c5\u51b5}$\\n\\n    ```\\n    \u57282\u53f0\u673a\u5668\u4e0a\u6267\u884c(\u4e0b\u9762\u7684ip\u8981\u4fee\u6539\u6210\u81ea\u5df1\u673a\u5668\u7684IP)\\n    bin/kafka-console-consumer.sh --bootstrap-server 192.168.17.82:9092 --topic bade --consumer.config config/consumer.properties\\n      \\n    ```\\n\\n>\u5982\u679c\u53d1\u751f\u8fd9\u4e2a\u9519\u8bef\\n>\\n>(id: -3 rack: null) disconnected (org.apache.kafka.clients.NetworkClient)\\n\\n```shell\\nbin/kafka-console-consumer.sh --bootstrap-server 192.168.17.82:2181 --topic first --consumer.config config/consumer.properties\\n```\\n\\n\u7aef\u53e3\u53f7\u7684\u95ee\u9898\uff0c\u4ee5\u524d\u542f\u52a8\u6d88\u8d39\u8005\u7684\u65f6\u5019\u76d1\u542c\u7684\u7aef\u53e3\u662f 2181\uff0c\u4f46\u662f\u65b0\u7248\u672c\u7684kafka\u5bf9zookeeper\u7684\u4f9d\u8d56\u6ca1\u6709\u90a3\u4e48\u5f3a\u70c8\u4e86\uff0c\u6240\u4ee5\u6539\u6210\u4e86\u81ea\u5df1\u7684 9092\u3002  \\n\\n```shell\\nbin/kafka-console-consumer.sh --bootstrap-server 192.168.17.82:9092,192.168.17.82:9092,192.168.17.83:9092 --topic first --consumer.config config/consumer.properties\\n```\\n\\n```shell\\nbin/kafka-console-producer.sh --broker-list 192.168.17.81:9092 --topic first\\n```\\n\u4f60\u4f1a\u53d1\u73b0consumer \u7684\u63a7\u5236\u53f0\u663e\u793a\u7684\u6d88\u606f\u6ca1\u6709\u91cd\u590d\u663e\u793a"},{"id":"k8s-ingress-cross-domain-whitelist","metadata":{"permalink":"/devops/k8s-ingress-cross-domain-whitelist","source":"@site/devops/2019-03-20-k8s-ingress-cross-domain-whitelist.md","title":"K8s\u7684ingress-\u914d\u7f6e\u8de8\u57df\u548c\u767d\u540d\u5355","description":"\u914d\u7f6e\u8de8\u57df:","date":"2019-03-20T00:00:00.000Z","formattedDate":"March 20, 2019","tags":[{"label":"k8s","permalink":"/devops/tags/k-8-s"}],"readingTime":0.31,"truncated":false,"authors":[{"name":"jeesk","title":"java engineer","url":"https://shanjiancaofu.com","imageURL":"https://shanjiancaofu.com/img/avtor.png","key":"jeesk"}],"frontMatter":{"slug":"k8s-ingress-cross-domain-whitelist","title":"K8s\u7684ingress-\u914d\u7f6e\u8de8\u57df\u548c\u767d\u540d\u5355","authors":["jeesk"],"tags":["k8s"]},"prevItem":{"title":"Kafka-\u96c6\u7fa4\u6559\u7a0b,\u53ca\u82e5\u5e72\u914d\u7f6e\u8bf4\u660e","permalink":"/devops/install-cluster-kafka"},"nextItem":{"title":"docusaurus\u90e8\u7f72\u547d\u4ee4","permalink":"/devops/push-cmd"}},"content":"\u914d\u7f6e\u8de8\u57df:\\n```\\n    nginx.ingress.kubernetes.io/Access-Control-Allow-Origin: \'http://12341234.s1.natapp.cc\'\\n    nginx.ingress.kubernetes.io/cors-allow-headers: >-\\n      AUTHTOKEN,DNT,X-CustomHeader,Keep-Alive,User-Agent,X-Requested-With,If-Modified- \\n     Since,Cache-Control,Content-Type,Authorization\\n    nginx.ingress.kubernetes.io/cors-allow-methods: \'PUT, GET, POST, OPTIONS\'\\n    nginx.ingress.kubernetes.io/cors-allow-origin: \'http://12342134.s1.natapp.cc\'\\n    nginx.ingress.kubernetes.io/enable-access-log: \'true\'\\n    nginx.ingress.kubernetes.io/enable-cors: \'true\'\\n```\\n\u914d\u7f6e\u767d\u540d\u5355:\\n```\\nnginx.ingress.kubernetes.io/whitelist-source-range: >-\\n      19.19.29.12\\n```\\n\u914d\u7f6e\u8def\u7531\u89c4\u5219\\n```\\nspec:\\n  tls:\\n    - hosts:\\n        - mysite\\n      secretName: mysite.com\\n  rules:\\n    - host: rzzm.h5cmpassport.com\\n      http:\\n        paths:\\n          - path: \'/abc*|adfd*|group[0-9]\'\\n            pathType: ImplementationSpecific\\n            backend:\\n              serviceName: mysiteservice\\n              servicePort: 8083\\n```"},{"id":"push-cmd","metadata":{"permalink":"/devops/push-cmd","source":"@site/devops/2019-01-22-push-cmd.md","title":"docusaurus\u90e8\u7f72\u547d\u4ee4","description":"git_pass \u8bf7\u914d\u7f6egithub\u7684token","date":"2019-01-22T00:00:00.000Z","formattedDate":"January 22, 2019","tags":[{"label":"blog","permalink":"/devops/tags/blog"}],"readingTime":0.11,"truncated":false,"authors":[{"name":"jeesk","title":"java engineer","url":"https://shanjiancaofu.com","imageURL":"https://shanjiancaofu.com/img/avtor.png","key":"jeesk"}],"frontMatter":{"slug":"push-cmd","title":"docusaurus\u90e8\u7f72\u547d\u4ee4","authors":["jeesk"],"tags":["blog"]},"prevItem":{"title":"K8s\u7684ingress-\u914d\u7f6e\u8de8\u57df\u548c\u767d\u540d\u5355","permalink":"/devops/k8s-ingress-cross-domain-whitelist"}},"content":"git_pass \u8bf7\u914d\u7f6egithub\u7684token\\n```shell\\nUSE_SSH=git@github.com:jeesk/jeesk.github.io.git GIT_USER=jeesk GIT_PASS=  yarn deploy\\n```\\n>  \u8def\u8fc7\u70b9\u8d5e, \u6708\u85aa10W"}]}')}}]);